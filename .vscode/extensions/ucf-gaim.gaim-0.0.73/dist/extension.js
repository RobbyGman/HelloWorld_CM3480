module.exports=(()=>{var e={9669:(e,t,s)=>{e.exports=s(1609)},7970:(e,t,s)=>{"use strict";var i=s(4867),n=s(6026),r=s(4097),o=s(5327),a=s(8605),h=s(7211),c=s(938).http,l=s(938).https,u=s(8835),d=s(8761),p=s(696),f=s(5061),m=s(481),g=/https:?/;function y(e,t,s){if(e.hostname=t.host,e.host=t.host,e.port=t.port,e.path=s,t.auth){var i=Buffer.from(t.auth.username+":"+t.auth.password,"utf8").toString("base64");e.headers["Proxy-Authorization"]="Basic "+i}e.beforeRedirect=function(e){e.headers.host=e.host,y(e,t,e.href)}}e.exports=function(e){return new Promise((function(t,s){var b=function(e){t(e)},v=function(e){s(e)},w=e.data,E=e.headers;if(E["User-Agent"]||E["user-agent"]||(E["User-Agent"]="axios/"+p.version),w&&!i.isStream(w)){if(Buffer.isBuffer(w));else if(i.isArrayBuffer(w))w=Buffer.from(new Uint8Array(w));else{if(!i.isString(w))return v(f("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",e));w=Buffer.from(w,"utf-8")}E["Content-Length"]=w.length}var _=void 0;e.auth&&(_=(e.auth.username||"")+":"+(e.auth.password||""));var S=r(e.baseURL,e.url),R=u.parse(S),O=R.protocol||"http:";if(!_&&R.auth){var C=R.auth.split(":");_=(C[0]||"")+":"+(C[1]||"")}_&&delete E.Authorization;var x=g.test(O),k=x?e.httpsAgent:e.httpAgent,T={path:o(R.path,e.params,e.paramsSerializer).replace(/^\?/,""),method:e.method.toUpperCase(),headers:E,agent:k,agents:{http:e.httpAgent,https:e.httpsAgent},auth:_};e.socketPath?T.socketPath=e.socketPath:(T.hostname=R.hostname,T.port=R.port);var A,L=e.proxy;if(!L&&!1!==L){var I=O.slice(0,-1)+"_proxy",P=process.env[I]||process.env[I.toUpperCase()];if(P){var D=u.parse(P),N=process.env.no_proxy||process.env.NO_PROXY,F=!0;if(N&&(F=!N.split(",").map((function(e){return e.trim()})).some((function(e){return!!e&&("*"===e||"."===e[0]&&R.hostname.substr(R.hostname.length-e.length)===e||R.hostname===e)}))),F&&(L={host:D.hostname,port:D.port,protocol:D.protocol},D.auth)){var B=D.auth.split(":");L.auth={username:B[0],password:B[1]}}}}L&&(T.headers.host=R.hostname+(R.port?":"+R.port:""),y(T,L,O+"//"+R.hostname+(R.port?":"+R.port:"")+T.path));var M=x&&(!L||g.test(L.protocol));e.transport?A=e.transport:0===e.maxRedirects?A=M?h:a:(e.maxRedirects&&(T.maxRedirects=e.maxRedirects),A=M?l:c),e.maxBodyLength>-1&&(T.maxBodyLength=e.maxBodyLength);var j=A.request(T,(function(t){if(!j.aborted){var s=t,r=t.req||j;if(204!==t.statusCode&&"HEAD"!==r.method&&!1!==e.decompress)switch(t.headers["content-encoding"]){case"gzip":case"compress":case"deflate":s=s.pipe(d.createUnzip()),delete t.headers["content-encoding"]}var o={status:t.statusCode,statusText:t.statusMessage,headers:t.headers,config:e,request:r};if("stream"===e.responseType)o.data=s,n(b,v,o);else{var a=[];s.on("data",(function(t){a.push(t),e.maxContentLength>-1&&Buffer.concat(a).length>e.maxContentLength&&(s.destroy(),v(f("maxContentLength size of "+e.maxContentLength+" exceeded",e,null,r)))})),s.on("error",(function(t){j.aborted||v(m(t,e,null,r))})),s.on("end",(function(){var t=Buffer.concat(a);"arraybuffer"!==e.responseType&&(t=t.toString(e.responseEncoding),e.responseEncoding&&"utf8"!==e.responseEncoding||(t=i.stripBOM(t))),o.data=t,n(b,v,o)}))}}}));j.on("error",(function(t){j.aborted&&"ERR_FR_TOO_MANY_REDIRECTS"!==t.code||v(m(t,e,null,j))})),e.timeout&&j.setTimeout(e.timeout,(function(){j.abort(),v(f("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",j))})),e.cancelToken&&e.cancelToken.promise.then((function(e){j.aborted||(j.abort(),v(e))})),i.isStream(w)?w.on("error",(function(t){v(m(t,e,null,j))})).pipe(j):j.end(w)}))}},5448:(e,t,s)=>{"use strict";var i=s(4867),n=s(6026),r=s(4372),o=s(5327),a=s(4097),h=s(4109),c=s(7985),l=s(5061);e.exports=function(e){return new Promise((function(t,s){var u=e.data,d=e.headers;i.isFormData(u)&&delete d["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var f=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";d.Authorization="Basic "+btoa(f+":"+m)}var g=a(e.baseURL,e.url);if(p.open(e.method.toUpperCase(),o(g,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var i="getAllResponseHeaders"in p?h(p.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:i,config:e,request:p};n(t,s,r),p=null}},p.onabort=function(){p&&(s(l("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){s(l("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),s(l(t,e,"ECONNABORTED",p)),p=null},i.isStandardBrowserEnv()){var y=(e.withCredentials||c(g))&&e.xsrfCookieName?r.read(e.xsrfCookieName):void 0;y&&(d[e.xsrfHeaderName]=y)}if("setRequestHeader"in p&&i.forEach(d,(function(e,t){void 0===u&&"content-type"===t.toLowerCase()?delete d[t]:p.setRequestHeader(t,e)})),i.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),s(e),p=null)})),u||(u=null),p.send(u)}))}},1609:(e,t,s)=>{"use strict";var i=s(4867),n=s(1849),r=s(321),o=s(7185);function a(e){var t=new r(e),s=n(r.prototype.request,t);return i.extend(s,r.prototype,t),i.extend(s,t),s}var h=a(s(5655));h.Axios=r,h.create=function(e){return a(o(h.defaults,e))},h.Cancel=s(5263),h.CancelToken=s(4972),h.isCancel=s(6502),h.all=function(e){return Promise.all(e)},h.spread=s(8713),h.isAxiosError=s(6268),e.exports=h,e.exports.default=h},5263:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},4972:(e,t,s)=>{"use strict";var i=s(5263);function n(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var s=this;e((function(e){s.reason||(s.reason=new i(e),t(s.reason))}))}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var e;return{token:new n((function(t){e=t})),cancel:e}},e.exports=n},6502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:(e,t,s)=>{"use strict";var i=s(4867),n=s(5327),r=s(782),o=s(3572),a=s(7185);function h(e){this.defaults=e,this.interceptors={request:new r,response:new r}}h.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[o,void 0],s=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)s=s.then(t.shift(),t.shift());return s},h.prototype.getUri=function(e){return e=a(this.defaults,e),n(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function(e){h.prototype[e]=function(t,s){return this.request(a(s||{},{method:e,url:t,data:(s||{}).data}))}})),i.forEach(["post","put","patch"],(function(e){h.prototype[e]=function(t,s,i){return this.request(a(i||{},{method:e,url:t,data:s}))}})),e.exports=h},782:(e,t,s)=>{"use strict";var i=s(4867);function n(){this.handlers=[]}n.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},n.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},n.prototype.forEach=function(e){i.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=n},4097:(e,t,s)=>{"use strict";var i=s(1793),n=s(7303);e.exports=function(e,t){return e&&!i(t)?n(e,t):t}},5061:(e,t,s)=>{"use strict";var i=s(481);e.exports=function(e,t,s,n,r){var o=new Error(e);return i(o,t,s,n,r)}},3572:(e,t,s)=>{"use strict";var i=s(4867),n=s(8527),r=s(6502),o=s(5655);function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return a(e),e.headers=e.headers||{},e.data=n(e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return a(e),t.data=n(t.data,t.headers,e.transformResponse),t}),(function(t){return r(t)||(a(e),t&&t.response&&(t.response.data=n(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},481:e=>{"use strict";e.exports=function(e,t,s,i,n){return e.config=t,s&&(e.code=s),e.request=i,e.response=n,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},7185:(e,t,s)=>{"use strict";var i=s(4867);e.exports=function(e,t){t=t||{};var s={},n=["url","method","data"],r=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function h(e,t){return i.isPlainObject(e)&&i.isPlainObject(t)?i.merge(e,t):i.isPlainObject(t)?i.merge({},t):i.isArray(t)?t.slice():t}function c(n){i.isUndefined(t[n])?i.isUndefined(e[n])||(s[n]=h(void 0,e[n])):s[n]=h(e[n],t[n])}i.forEach(n,(function(e){i.isUndefined(t[e])||(s[e]=h(void 0,t[e]))})),i.forEach(r,c),i.forEach(o,(function(n){i.isUndefined(t[n])?i.isUndefined(e[n])||(s[n]=h(void 0,e[n])):s[n]=h(void 0,t[n])})),i.forEach(a,(function(i){i in t?s[i]=h(e[i],t[i]):i in e&&(s[i]=h(void 0,e[i]))}));var l=n.concat(r).concat(o).concat(a),u=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return i.forEach(u,c),s}},6026:(e,t,s)=>{"use strict";var i=s(5061);e.exports=function(e,t,s){var n=s.config.validateStatus;s.status&&n&&!n(s.status)?t(i("Request failed with status code "+s.status,s.config,null,s.request,s)):e(s)}},8527:(e,t,s)=>{"use strict";var i=s(4867);e.exports=function(e,t,s){return i.forEach(s,(function(s){e=s(e,t)})),e}},5655:(e,t,s)=>{"use strict";var i=s(4867),n=s(6016),r={"Content-Type":"application/x-www-form-urlencoded"};function o(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,h={adapter:("undefined"!=typeof XMLHttpRequest?a=s(5448):"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)&&(a=s(7970)),a),transformRequest:[function(e,t){return n(t,"Accept"),n(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(e){h.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){h.headers[e]=i.merge(r)})),e.exports=h},1849:e=>{"use strict";e.exports=function(e,t){return function(){for(var s=new Array(arguments.length),i=0;i<s.length;i++)s[i]=arguments[i];return e.apply(t,s)}}},5327:(e,t,s)=>{"use strict";var i=s(4867);function n(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,s){if(!t)return e;var r;if(s)r=s(t);else if(i.isURLSearchParams(t))r=t.toString();else{var o=[];i.forEach(t,(function(e,t){null!=e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,(function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),o.push(n(t)+"="+n(e))})))})),r=o.join("&")}if(r){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}},7303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:(e,t,s)=>{"use strict";var i=s(4867);e.exports=i.isStandardBrowserEnv()?{write:function(e,t,s,n,r,o){var a=[];a.push(e+"="+encodeURIComponent(t)),i.isNumber(s)&&a.push("expires="+new Date(s).toGMTString()),i.isString(n)&&a.push("path="+n),i.isString(r)&&a.push("domain="+r),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},6268:e=>{"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},7985:(e,t,s)=>{"use strict";var i=s(4867);e.exports=i.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");function n(e){var i=e;return t&&(s.setAttribute("href",i),i=s.href),s.setAttribute("href",i),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:"/"===s.pathname.charAt(0)?s.pathname:"/"+s.pathname}}return e=n(window.location.href),function(t){var s=i.isString(t)?n(t):t;return s.protocol===e.protocol&&s.host===e.host}}():function(){return!0}},6016:(e,t,s)=>{"use strict";var i=s(4867);e.exports=function(e,t){i.forEach(e,(function(s,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=s,delete e[i])}))}},4109:(e,t,s)=>{"use strict";var i=s(4867),n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,s,r,o={};return e?(i.forEach(e.split("\n"),(function(e){if(r=e.indexOf(":"),t=i.trim(e.substr(0,r)).toLowerCase(),s=i.trim(e.substr(r+1)),t){if(o[t]&&n.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([s]):o[t]?o[t]+", "+s:s}})),o):o}},8713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},4867:(e,t,s)=>{"use strict";var i=s(1849),n=Object.prototype.toString;function r(e){return"[object Array]"===n.call(e)}function o(e){return void 0===e}function a(e){return null!==e&&"object"==typeof e}function h(e){if("[object Object]"!==n.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===n.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),r(e))for(var s=0,i=e.length;s<i;s++)t.call(null,e[s],s,e);else for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(null,e[n],n,e)}e.exports={isArray:r,isArrayBuffer:function(e){return"[object ArrayBuffer]"===n.call(e)},isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isPlainObject:h,isUndefined:o,isDate:function(e){return"[object Date]"===n.call(e)},isFile:function(e){return"[object File]"===n.call(e)},isBlob:function(e){return"[object Blob]"===n.call(e)},isFunction:c,isStream:function(e){return a(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function e(){var t={};function s(s,i){h(t[i])&&h(s)?t[i]=e(t[i],s):h(s)?t[i]=e({},s):r(s)?t[i]=s.slice():t[i]=s}for(var i=0,n=arguments.length;i<n;i++)l(arguments[i],s);return t},extend:function(e,t,s){return l(t,(function(t,n){e[n]=s&&"function"==typeof t?i(t,s):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},696:e=>{"use strict";e.exports=JSON.parse('{"name":"axios","version":"0.21.1","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test && bundlesize","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://github.com/axios/axios","devDependencies":{"bundlesize":"^0.17.0","coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.0.2","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^20.1.0","grunt-karma":"^2.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^1.0.18","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^1.3.0","karma-chrome-launcher":"^2.2.0","karma-coverage":"^1.1.1","karma-firefox-launcher":"^1.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-opera-launcher":"^1.0.0","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^1.2.0","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^1.7.0","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^5.2.0","sinon":"^4.5.0","typescript":"^2.8.1","url-search-params":"^0.10.0","webpack":"^1.13.1","webpack-dev-server":"^1.14.1"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.10.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')},5623:e=>{"use strict";function t(e,t,n){e instanceof RegExp&&(e=s(e,n)),t instanceof RegExp&&(t=s(t,n));var r=i(e,t,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+e.length,r[1]),post:n.slice(r[1]+t.length)}}function s(e,t){var s=t.match(e);return s?s[0]:null}function i(e,t,s){var i,n,r,o,a,h=s.indexOf(e),c=s.indexOf(t,h+1),l=h;if(h>=0&&c>0){for(i=[],r=s.length;l>=0&&!a;)l==h?(i.push(l),h=s.indexOf(e,l+1)):1==i.length?a=[i.pop(),c]:((n=i.pop())<r&&(r=n,o=c),c=s.indexOf(t,l+1)),l=h<c&&h>=0?h:c;i.length&&(a=[r,o])}return a}e.exports=t,t.range=i},3644:(e,t,s)=>{var i=s(1048),n=s(5623);e.exports=function(e){return e?("{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2)),y(function(e){return e.split("\\\\").join(r).split("\\{").join(o).split("\\}").join(a).split("\\,").join(h).split("\\.").join(c)}(e),!0).map(u)):[]};var r="\0SLASH"+Math.random()+"\0",o="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",h="\0COMMA"+Math.random()+"\0",c="\0PERIOD"+Math.random()+"\0";function l(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function u(e){return e.split(r).join("\\").split(o).join("{").split(a).join("}").split(h).join(",").split(c).join(".")}function d(e){if(!e)return[""];var t=[],s=n("{","}",e);if(!s)return e.split(",");var i=s.pre,r=s.body,o=s.post,a=i.split(",");a[a.length-1]+="{"+r+"}";var h=d(o);return o.length&&(a[a.length-1]+=h.shift(),a.push.apply(a,h)),t.push.apply(t,a),t}function p(e){return"{"+e+"}"}function f(e){return/^-?0\d/.test(e)}function m(e,t){return e<=t}function g(e,t){return e>=t}function y(e,t){var s=[],r=n("{","}",e);if(!r||/\$$/.test(r.pre))return[e];var o,h=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),u=h||c,b=r.body.indexOf(",")>=0;if(!u&&!b)return r.post.match(/,.*\}/)?y(e=r.pre+"{"+r.body+a+r.post):[e];if(u)o=r.body.split(/\.\./);else if(1===(o=d(r.body)).length&&1===(o=y(o[0],!1).map(p)).length)return(E=r.post.length?y(r.post,!1):[""]).map((function(e){return r.pre+o[0]+e}));var v,w=r.pre,E=r.post.length?y(r.post,!1):[""];if(u){var _=l(o[0]),S=l(o[1]),R=Math.max(o[0].length,o[1].length),O=3==o.length?Math.abs(l(o[2])):1,C=m;S<_&&(O*=-1,C=g);var x=o.some(f);v=[];for(var k=_;C(k,S);k+=O){var T;if(c)"\\"===(T=String.fromCharCode(k))&&(T="");else if(T=String(k),x){var A=R-T.length;if(A>0){var L=new Array(A+1).join("0");T=k<0?"-"+L+T.slice(1):L+T}}v.push(T)}}else v=i(o,(function(e){return y(e,!1)}));for(var I=0;I<v.length;I++)for(var P=0;P<E.length;P++){var D=w+v[I]+E[P];(!t||u||D)&&s.push(D)}return s}},9019:(e,t,s)=>{"use strict";const i=s(5747),n=s(5622),r=i.lchown?"lchown":"chown",o=i.lchownSync?"lchownSync":"chownSync",a=i.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),h=(e,t,s)=>{try{return i[o](e,t,s)}catch(e){if("ENOENT"!==e.code)throw e}},c=a?(e,t,s,n)=>r=>{r&&"EISDIR"===r.code?i.chown(e,t,s,n):n(r)}:(e,t,s,i)=>i,l=a?(e,t,s)=>{try{return h(e,t,s)}catch(n){if("EISDIR"!==n.code)throw n;((e,t,s)=>{try{i.chownSync(e,t,s)}catch(e){if("ENOENT"!==e.code)throw e}})(e,t,s)}}:(e,t,s)=>h(e,t,s),u=process.version;let d=(e,t,s)=>i.readdir(e,t,s);/^v4\./.test(u)&&(d=(e,t,s)=>i.readdir(e,s));const p=(e,t,s,n)=>{i[r](e,t,s,c(e,t,s,(e=>{n(e&&"ENOENT"!==e.code?e:null)})))},f=(e,t,s,r,o)=>{if("string"==typeof t)return i.lstat(n.resolve(e,t),((i,n)=>{if(i)return o("ENOENT"!==i.code?i:null);n.name=t,f(e,n,s,r,o)}));if(t.isDirectory())m(n.resolve(e,t.name),s,r,(i=>{if(i)return o(i);const a=n.resolve(e,t.name);p(a,s,r,o)}));else{const i=n.resolve(e,t.name);p(i,s,r,o)}},m=(e,t,s,i)=>{d(e,{withFileTypes:!0},((n,r)=>{if(n){if("ENOENT"===n.code)return i();if("ENOTDIR"!==n.code&&"ENOTSUP"!==n.code)return i(n)}if(n||!r.length)return p(e,t,s,i);let o=r.length,a=null;const h=n=>{if(!a)return n?i(a=n):0==--o?p(e,t,s,i):void 0};r.forEach((i=>f(e,i,t,s,h)))}))},g=(e,t,s)=>{let r;try{r=((e,t)=>i.readdirSync(e,{withFileTypes:!0}))(e)}catch(i){if("ENOENT"===i.code)return;if("ENOTDIR"===i.code||"ENOTSUP"===i.code)return l(e,t,s);throw i}return r&&r.length&&r.forEach((r=>((e,t,s,r)=>{if("string"==typeof t)try{const s=i.lstatSync(n.resolve(e,t));s.name=t,t=s}catch(e){if("ENOENT"===e.code)return;throw e}t.isDirectory()&&g(n.resolve(e,t.name),s,r),l(n.resolve(e,t.name),s,r)})(e,r,t,s))),l(e,t,s)};e.exports=m,m.sync=g},1048:e=>{e.exports=function(e,s){for(var i=[],n=0;n<e.length;n++){var r=s(e[n],n);t(r)?i.push.apply(i,r):i.push(r)}return i};var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},1227:(e,t,s)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const s="color: "+this.color;t.splice(1,0,s,"color: inherit");let i=0,n=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(i++,"%c"===e&&(n=i))})),t.splice(n,0,s)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=s(2447)(t);const{formatters:i}=e.exports;i.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},2447:(e,t,s)=>{e.exports=function(e){function t(e){let s,n=null;function r(...e){if(!r.enabled)return;const i=r,n=Number(new Date),o=n-(s||n);i.diff=o,i.prev=s,i.curr=n,s=n,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((s,n)=>{if("%%"===s)return"%";a++;const r=t.formatters[n];if("function"==typeof r){const t=e[a];s=r.call(i,t),e.splice(a,1),a--}return s})),t.formatArgs.call(i,e),(i.log||t.log).apply(i,e)}return r.namespace=e,r.useColors=t.useColors(),r.color=t.selectColor(e),r.extend=i,r.destroy=t.destroy,Object.defineProperty(r,"enabled",{enumerable:!0,configurable:!1,get:()=>null===n?t.enabled(e):n,set:e=>{n=e}}),"function"==typeof t.init&&t.init(r),r}function i(e,s){const i=t(this.namespace+(void 0===s?":":s)+e);return i.log=this.log,i}function n(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(n),...t.skips.map(n).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let s;t.save(e),t.names=[],t.skips=[];const i=("string"==typeof e?e:"").split(/[\s,]+/),n=i.length;for(s=0;s<n;s++)i[s]&&("-"===(e=i[s].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let s,i;for(s=0,i=t.skips.length;s<i;s++)if(t.skips[s].test(e))return!1;for(s=0,i=t.names.length;s<i;s++)if(t.names[s].test(e))return!0;return!1},t.humanize=s(7824),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((s=>{t[s]=e[s]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let s=0;for(let t=0;t<e.length;t++)s=(s<<5)-s+e.charCodeAt(t),s|=0;return t.colors[Math.abs(s)%t.colors.length]},t.enable(t.load()),t}},5158:(e,t,s)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=s(1227):e.exports=s(39)},39:(e,t,s)=>{const i=s(3867),n=s(1669);t.init=function(e){e.inspectOpts={};const s=Object.keys(t.inspectOpts);for(let i=0;i<s.length;i++)e.inspectOpts[s[i]]=t.inspectOpts[s[i]]},t.log=function(...e){return process.stderr.write(n.format(...e)+"\n")},t.formatArgs=function(s){const{namespace:i,useColors:n}=this;if(n){const t=this.color,n="[3"+(t<8?t:"8;5;"+t),r=`  ${n};1m${i} [0m`;s[0]=r+s[0].split("\n").join("\n"+r),s.push(n+"m+"+e.exports.humanize(this.diff)+"[0m")}else s[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+i+" "+s[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):i.isatty(process.stderr.fd)},t.destroy=n.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=s(2130);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const s=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let i=process.env[t];return i=!!/^(yes|on|true|enabled)$/i.test(i)||!/^(no|off|false|disabled)$/i.test(i)&&("null"===i?null:Number(i)),e[s]=i,e}),{}),e.exports=s(2447)(t);const{formatters:r}=e.exports;r.o=function(e){return this.inspectOpts.colors=this.useColors,n.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},r.O=function(e){return this.inspectOpts.colors=this.useColors,n.inspect(e,this.inspectOpts)}},2261:(e,t,s)=>{var i;e.exports=function(){if(!i)try{i=s(5158)("follow-redirects")}catch(e){i=function(){}}i.apply(null,arguments)}},938:(e,t,s)=>{var i=s(8835),n=i.URL,r=s(8605),o=s(7211),a=s(2413).Writable,h=s(2357),c=s(2261),l=Object.create(null);["abort","aborted","connect","error","socket","timeout"].forEach((function(e){l[e]=function(t,s,i){this._redirectable.emit(e,t,s,i)}}));var u=_("ERR_FR_REDIRECTION_FAILURE",""),d=_("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),p=_("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),f=_("ERR_STREAM_WRITE_AFTER_END","write after end");function m(e,t){a.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var s=this;this._onNativeResponse=function(e){s._processResponse(e)},this._performRequest()}function g(e,t){clearTimeout(e._timeout),e._timeout=setTimeout((function(){e.emit("timeout")}),t)}function y(){clearTimeout(this._timeout)}function b(e){var t={maxRedirects:21,maxBodyLength:10485760},s={};return Object.keys(e).forEach((function(r){var o=r+":",a=s[o]=e[r],l=t[r]=Object.create(a);Object.defineProperties(l,{request:{value:function(e,r,a){if("string"==typeof e){var l=e;try{e=w(new n(l))}catch(t){e=i.parse(l)}}else n&&e instanceof n?e=w(e):(a=r,r=e,e={protocol:o});return"function"==typeof r&&(a=r,r=null),(r=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},e,r)).nativeProtocols=s,h.equal(r.protocol,o,"protocol mismatch"),c("options",r),new m(r,a)},configurable:!0,enumerable:!0,writable:!0},get:{value:function(e,t,s){var i=l.request(e,t,s);return i.end(),i},configurable:!0,enumerable:!0,writable:!0}})})),t}function v(){}function w(e){var t={protocol:e.protocol,hostname:e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:e.pathname+e.search,href:e.href};return""!==e.port&&(t.port=Number(e.port)),t}function E(e,t){var s;for(var i in t)e.test(i)&&(s=t[i],delete t[i]);return s}function _(e,t){function s(e){Error.captureStackTrace(this,this.constructor),this.message=e||t}return s.prototype=new Error,s.prototype.constructor=s,s.prototype.name="Error ["+e+"]",s.prototype.code=e,s}m.prototype=Object.create(a.prototype),m.prototype.write=function(e,t,s){if(this._ending)throw new f;if(!("string"==typeof e||"object"==typeof e&&"length"in e))throw new TypeError("data should be a string, Buffer or Uint8Array");"function"==typeof t&&(s=t,t=null),0!==e.length?this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,s)):(this.emit("error",new p),this.abort()):s&&s()},m.prototype.end=function(e,t,s){if("function"==typeof e?(s=e,e=t=null):"function"==typeof t&&(s=t,t=null),e){var i=this,n=this._currentRequest;this.write(e,t,(function(){i._ended=!0,n.end(null,null,s)})),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,s)},m.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)},m.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)},m.prototype.setTimeout=function(e,t){if(t&&this.once("timeout",t),this.socket)g(this,e);else{var s=this;this._currentRequest.once("socket",(function(){g(s,e)}))}return this.once("response",y),this.once("error",y),this},["abort","flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach((function(e){m.prototype[e]=function(t,s){return this._currentRequest[e](t,s)}})),["aborted","connection","socket"].forEach((function(e){Object.defineProperty(m.prototype,e,{get:function(){return this._currentRequest[e]}})})),m.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}},m.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(t){if(this._options.agents){var s=e.substr(0,e.length-1);this._options.agent=this._options.agents[s]}var n=this._currentRequest=t.request(this._options,this._onNativeResponse);for(var r in this._currentUrl=i.format(this._options),n._redirectable=this,l)r&&n.on(r,l[r]);if(this._isRedirect){var o=0,a=this,h=this._requestBodyBuffers;!function e(t){if(n===a._currentRequest)if(t)a.emit("error",t);else if(o<h.length){var s=h[o++];n.finished||n.write(s.data,s.encoding,e)}else a._ended&&n.end()}()}}else this.emit("error",new TypeError("Unsupported protocol "+e))},m.prototype._processResponse=function(e){var t=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:t});var s=e.headers.location;if(s&&!1!==this._options.followRedirects&&t>=300&&t<400){if(this._currentRequest.removeAllListeners(),this._currentRequest.on("error",v),this._currentRequest.abort(),e.destroy(),++this._redirectCount>this._options.maxRedirects)return void this.emit("error",new d);((301===t||302===t)&&"POST"===this._options.method||303===t&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],E(/^content-/i,this._options.headers));var n=E(/^host$/i,this._options.headers)||i.parse(this._currentUrl).hostname,r=i.resolve(this._currentUrl,s);c("redirecting to",r),this._isRedirect=!0;var o=i.parse(r);if(Object.assign(this._options,o),o.hostname!==n&&E(/^authorization$/i,this._options.headers),"function"==typeof this._options.beforeRedirect){var a={headers:e.headers};try{this._options.beforeRedirect.call(null,this._options,a)}catch(e){return void this.emit("error",e)}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(e){var h=new u("Redirected request failed: "+e.message);h.cause=e,this.emit("error",h)}}else e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),this._requestBodyBuffers=[]},e.exports=b({http:r,https:o}),e.exports.wrap=b},292:(e,t,s)=>{"use strict";const i=s(5736),n=s(8614).EventEmitter,r=s(5747);let o=r.writev;if(!o){const e=process.binding("fs"),t=e.FSReqWrap||e.FSReqCallback;o=(s,i,n,r)=>{const o=new t;o.oncomplete=(e,t)=>r(e,t,i),e.writeBuffers(s,i,n,o)}}const a=Symbol("_autoClose"),h=Symbol("_close"),c=Symbol("_ended"),l=Symbol("_fd"),u=Symbol("_finished"),d=Symbol("_flags"),p=Symbol("_flush"),f=Symbol("_handleChunk"),m=Symbol("_makeBuf"),g=Symbol("_mode"),y=Symbol("_needDrain"),b=Symbol("_onerror"),v=Symbol("_onopen"),w=Symbol("_onread"),E=Symbol("_onwrite"),_=Symbol("_open"),S=Symbol("_path"),R=Symbol("_pos"),O=Symbol("_queue"),C=Symbol("_read"),x=Symbol("_readSize"),k=Symbol("_reading"),T=Symbol("_remain"),A=Symbol("_size"),L=Symbol("_write"),I=Symbol("_writing"),P=Symbol("_defaultFlag"),D=Symbol("_errored");class N extends i{constructor(e,t){if(super(t=t||{}),this.readable=!0,this.writable=!1,"string"!=typeof e)throw new TypeError("path must be a string");this[D]=!1,this[l]="number"==typeof t.fd?t.fd:null,this[S]=e,this[x]=t.readSize||16777216,this[k]=!1,this[A]="number"==typeof t.size?t.size:1/0,this[T]=this[A],this[a]="boolean"!=typeof t.autoClose||t.autoClose,"number"==typeof this[l]?this[C]():this[_]()}get fd(){return this[l]}get path(){return this[S]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[_](){r.open(this[S],"r",((e,t)=>this[v](e,t)))}[v](e,t){e?this[b](e):(this[l]=t,this.emit("open",t),this[C]())}[m](){return Buffer.allocUnsafe(Math.min(this[x],this[T]))}[C](){if(!this[k]){this[k]=!0;const e=this[m]();if(0===e.length)return process.nextTick((()=>this[w](null,0,e)));r.read(this[l],e,0,e.length,null,((e,t,s)=>this[w](e,t,s)))}}[w](e,t,s){this[k]=!1,e?this[b](e):this[f](t,s)&&this[C]()}[h](){if(this[a]&&"number"==typeof this[l]){const e=this[l];this[l]=null,r.close(e,(e=>e?this.emit("error",e):this.emit("close")))}}[b](e){this[k]=!0,this[h](),this.emit("error",e)}[f](e,t){let s=!1;return this[T]-=e,e>0&&(s=super.write(e<t.length?t.slice(0,e):t)),(0===e||this[T]<=0)&&(s=!1,this[h](),super.end()),s}emit(e,t){switch(e){case"prefinish":case"finish":break;case"drain":"number"==typeof this[l]&&this[C]();break;case"error":if(this[D])return;return this[D]=!0,super.emit(e,t);default:return super.emit(e,t)}}}class F extends n{constructor(e,t){super(t=t||{}),this.readable=!1,this.writable=!0,this[D]=!1,this[I]=!1,this[c]=!1,this[y]=!1,this[O]=[],this[S]=e,this[l]="number"==typeof t.fd?t.fd:null,this[g]=void 0===t.mode?438:t.mode,this[R]="number"==typeof t.start?t.start:null,this[a]="boolean"!=typeof t.autoClose||t.autoClose;const s=null!==this[R]?"r+":"w";this[P]=void 0===t.flags,this[d]=this[P]?s:t.flags,null===this[l]&&this[_]()}emit(e,t){if("error"===e){if(this[D])return;this[D]=!0}return super.emit(e,t)}get fd(){return this[l]}get path(){return this[S]}[b](e){this[h](),this[I]=!0,this.emit("error",e)}[_](){r.open(this[S],this[d],this[g],((e,t)=>this[v](e,t)))}[v](e,t){this[P]&&"r+"===this[d]&&e&&"ENOENT"===e.code?(this[d]="w",this[_]()):e?this[b](e):(this[l]=t,this.emit("open",t),this[p]())}end(e,t){return e&&this.write(e,t),this[c]=!0,this[I]||this[O].length||"number"!=typeof this[l]||this[E](null,0),this}write(e,t){return"string"==typeof e&&(e=Buffer.from(e,t)),this[c]?(this.emit("error",new Error("write() after end()")),!1):null===this[l]||this[I]||this[O].length?(this[O].push(e),this[y]=!0,!1):(this[I]=!0,this[L](e),!0)}[L](e){r.write(this[l],e,0,e.length,this[R],((e,t)=>this[E](e,t)))}[E](e,t){e?this[b](e):(null!==this[R]&&(this[R]+=t),this[O].length?this[p]():(this[I]=!1,this[c]&&!this[u]?(this[u]=!0,this[h](),this.emit("finish")):this[y]&&(this[y]=!1,this.emit("drain"))))}[p](){if(0===this[O].length)this[c]&&this[E](null,0);else if(1===this[O].length)this[L](this[O].pop());else{const e=this[O];this[O]=[],o(this[l],e,this[R],((e,t)=>this[E](e,t)))}}[h](){if(this[a]&&"number"==typeof this[l]){const e=this[l];this[l]=null,r.close(e,(e=>e?this.emit("error",e):this.emit("close")))}}}t.ReadStream=N,t.ReadStreamSync=class extends N{[_](){let e=!0;try{this[v](null,r.openSync(this[S],"r")),e=!1}finally{e&&this[h]()}}[C](){let e=!0;try{if(!this[k]){for(this[k]=!0;;){const e=this[m](),t=0===e.length?0:r.readSync(this[l],e,0,e.length,null);if(!this[f](t,e))break}this[k]=!1}e=!1}finally{e&&this[h]()}}[h](){if(this[a]&&"number"==typeof this[l]){const e=this[l];this[l]=null,r.closeSync(e),this.emit("close")}}},t.WriteStream=F,t.WriteStreamSync=class extends F{[_](){let e;if(this[P]&&"r+"===this[d])try{e=r.openSync(this[S],this[d],this[g])}catch(e){if("ENOENT"===e.code)return this[d]="w",this[_]();throw e}else e=r.openSync(this[S],this[d],this[g]);this[v](null,e)}[h](){if(this[a]&&"number"==typeof this[l]){const e=this[l];this[l]=null,r.closeSync(e),this.emit("close")}}[L](e){let t=!0;try{this[E](null,r.writeSync(this[l],e,0,e.length,this[R])),t=!1}finally{if(t)try{this[h]()}catch(e){}}}}},6560:e=>{"use strict";e.exports=(e,t)=>{t=t||process.argv;const s=e.startsWith("-")?"":1===e.length?"-":"--",i=t.indexOf(s+e),n=t.indexOf("--");return-1!==i&&(-1===n||i<n)}},1171:(e,t,s)=>{e.exports=d,d.Minimatch=p;var i={sep:"/"};try{i=s(5622)}catch(e){}var n=d.GLOBSTAR=p.GLOBSTAR={},r=s(3644),o={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",h="[^/]*?",c="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{}),l=/\/+/;function u(e,t){e=e||{},t=t||{};var s={};return Object.keys(t).forEach((function(e){s[e]=t[e]})),Object.keys(e).forEach((function(t){s[t]=e[t]})),s}function d(e,t,s){if("string"!=typeof t)throw new TypeError("glob pattern string required");return s||(s={}),!(!s.nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new p(t,s).match(e))}function p(e,t){if(!(this instanceof p))return new p(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),"/"!==i.sep&&(e=e.split(i.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function f(e,t){if(t||(t=this instanceof p?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:r(e)}d.filter=function(e,t){return t=t||{},function(s,i,n){return d(s,e,t)}},d.defaults=function(e){if(!e||!Object.keys(e).length)return d;var t=d,s=function(s,i,n){return t.minimatch(s,i,u(e,n))};return s.Minimatch=function(s,i){return new t.Minimatch(s,u(e,i))},s},p.defaults=function(e){return e&&Object.keys(e).length?d.defaults(e).Minimatch:p},p.prototype.debug=function(){},p.prototype.make=function(){if(!this._made){var e=this.pattern,t=this.options;if(t.nocomment||"#"!==e.charAt(0))if(e){this.parseNegate();var s=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error),this.debug(this.pattern,s),s=this.globParts=s.map((function(e){return e.split(l)})),this.debug(this.pattern,s),s=s.map((function(e,t,s){return e.map(this.parse,this)}),this),this.debug(this.pattern,s),s=s.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,s),this.set=s}else this.empty=!0;else this.comment=!0}},p.prototype.parseNegate=function(){var e=this.pattern,t=!1,s=0;if(!this.options.nonegate){for(var i=0,n=e.length;i<n&&"!"===e.charAt(i);i++)t=!t,s++;s&&(this.pattern=e.substr(s)),this.negate=t}},d.braceExpand=function(e,t){return f(e,t)},p.prototype.braceExpand=f,p.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError("pattern is too long");var s=this.options;if(!s.noglobstar&&"**"===e)return n;if(""===e)return"";var i,r="",l=!!s.nocase,u=!1,d=[],p=[],f=!1,g=-1,y=-1,b="."===e.charAt(0)?"":s.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",v=this;function w(){if(i){switch(i){case"*":r+=h,l=!0;break;case"?":r+=a,l=!0;break;default:r+="\\"+i}v.debug("clearStateChar %j %j",i,r),i=!1}}for(var E,_=0,S=e.length;_<S&&(E=e.charAt(_));_++)if(this.debug("%s\t%s %s %j",e,_,r,E),u&&c[E])r+="\\"+E,u=!1;else switch(E){case"/":return!1;case"\\":w(),u=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,_,r,E),f){this.debug("  in class"),"!"===E&&_===y+1&&(E="^"),r+=E;continue}v.debug("call clearStateChar %j",i),w(),i=E,s.noext&&w();continue;case"(":if(f){r+="(";continue}if(!i){r+="\\(";continue}d.push({type:i,start:_-1,reStart:r.length,open:o[i].open,close:o[i].close}),r+="!"===i?"(?:(?!(?:":"(?:",this.debug("plType %j %j",i,r),i=!1;continue;case")":if(f||!d.length){r+="\\)";continue}w(),l=!0;var R=d.pop();r+=R.close,"!"===R.type&&p.push(R),R.reEnd=r.length;continue;case"|":if(f||!d.length||u){r+="\\|",u=!1;continue}w(),r+="|";continue;case"[":if(w(),f){r+="\\"+E;continue}f=!0,y=_,g=r.length,r+=E;continue;case"]":if(_===y+1||!f){r+="\\"+E,u=!1;continue}if(f){var O=e.substring(y+1,_);try{RegExp("["+O+"]")}catch(e){var C=this.parse(O,m);r=r.substr(0,g)+"\\["+C[0]+"\\]",l=l||C[1],f=!1;continue}}l=!0,f=!1,r+=E;continue;default:w(),u?u=!1:!c[E]||"^"===E&&f||(r+="\\"),r+=E}for(f&&(O=e.substr(y+1),C=this.parse(O,m),r=r.substr(0,g)+"\\["+C[0],l=l||C[1]),R=d.pop();R;R=d.pop()){var x=r.slice(R.reStart+R.open.length);this.debug("setting tail",r,R),x=x.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,s){return s||(s="\\"),t+t+s+"|"})),this.debug("tail=%j\n   %s",x,x,R,r);var k="*"===R.type?h:"?"===R.type?a:"\\"+R.type;l=!0,r=r.slice(0,R.reStart)+k+"\\("+x}w(),u&&(r+="\\\\");var T=!1;switch(r.charAt(0)){case".":case"[":case"(":T=!0}for(var A=p.length-1;A>-1;A--){var L=p[A],I=r.slice(0,L.reStart),P=r.slice(L.reStart,L.reEnd-8),D=r.slice(L.reEnd-8,L.reEnd),N=r.slice(L.reEnd);D+=N;var F=I.split("(").length-1,B=N;for(_=0;_<F;_++)B=B.replace(/\)[+*?]?/,"");var M="";""===(N=B)&&t!==m&&(M="$"),r=I+P+N+M+D}if(""!==r&&l&&(r="(?=.)"+r),T&&(r=b+r),t===m)return[r,l];if(!l)return e.replace(/\\(.)/g,"$1");var j=s.nocase?"i":"";try{var U=new RegExp("^"+r+"$",j)}catch(e){return new RegExp("$.")}return U._glob=e,U._src=r,U};var m={};d.makeRe=function(e,t){return new p(e,t||{}).makeRe()},p.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,s=t.noglobstar?h:t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",i=t.nocase?"i":"",r=e.map((function(e){return e.map((function(e){return e===n?s:"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e._src})).join("\\/")})).join("|");r="^(?:"+r+")$",this.negate&&(r="^(?!"+r+").*$");try{this.regexp=new RegExp(r,i)}catch(e){this.regexp=!1}return this.regexp},d.match=function(e,t,s){var i=new p(t,s=s||{});return e=e.filter((function(e){return i.match(e)})),i.options.nonull&&!e.length&&e.push(t),e},p.prototype.match=function(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var s=this.options;"/"!==i.sep&&(e=e.split(i.sep).join("/")),e=e.split(l),this.debug(this.pattern,"split",e);var n,r,o=this.set;for(this.debug(this.pattern,"set",o),r=e.length-1;r>=0&&!(n=e[r]);r--);for(r=0;r<o.length;r++){var a=o[r],h=e;if(s.matchBase&&1===a.length&&(h=[n]),this.matchOne(h,a,t))return!!s.flipNegate||!this.negate}return!s.flipNegate&&this.negate},p.prototype.matchOne=function(e,t,s){var i=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var r=0,o=0,a=e.length,h=t.length;r<a&&o<h;r++,o++){this.debug("matchOne loop");var c,l=t[o],u=e[r];if(this.debug(t,l,u),!1===l)return!1;if(l===n){this.debug("GLOBSTAR",[t,l,u]);var d=r,p=o+1;if(p===h){for(this.debug("** at the end");r<a;r++)if("."===e[r]||".."===e[r]||!i.dot&&"."===e[r].charAt(0))return!1;return!0}for(;d<a;){var f=e[d];if(this.debug("\nglobstar while",e,d,t,p,f),this.matchOne(e.slice(d),t.slice(p),s))return this.debug("globstar found match!",d,a,f),!0;if("."===f||".."===f||!i.dot&&"."===f.charAt(0)){this.debug("dot detected!",e,d,t,p);break}this.debug("globstar swallow a segment, and continue"),d++}return!(!s||(this.debug("\n>>> no match, partial?",e,d,t,p),d!==a))}if("string"==typeof l?(c=i.nocase?u.toLowerCase()===l.toLowerCase():u===l,this.debug("string match",l,u,c)):(c=u.match(l),this.debug("pattern match",l,u,c)),!c)return!1}if(r===a&&o===h)return!0;if(r===a)return s;if(o===h)return r===a-1&&""===e[r];throw new Error("wtf?")}},5736:(e,t,s)=>{"use strict";const i=s(8614),n=s(2413),r=s(4411),o=s(4304).StringDecoder,a=Symbol("EOF"),h=Symbol("maybeEmitEnd"),c=Symbol("emittedEnd"),l=Symbol("emittingEnd"),u=Symbol("closed"),d=Symbol("read"),p=Symbol("flush"),f=Symbol("flushChunk"),m=Symbol("encoding"),g=Symbol("decoder"),y=Symbol("flowing"),b=Symbol("paused"),v=Symbol("resume"),w=Symbol("bufferLength"),E=Symbol("bufferPush"),_=Symbol("bufferShift"),S=Symbol("objectMode"),R=Symbol("destroyed"),O="1"!==global._MP_NO_ITERATOR_SYMBOLS_,C=O&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),x=O&&Symbol.iterator||Symbol("iterator not implemented"),k=e=>"end"===e||"finish"===e||"prefinish"===e;e.exports=class e extends n{constructor(e){super(),this[y]=!1,this[b]=!1,this.pipes=new r,this.buffer=new r,this[S]=e&&e.objectMode||!1,this[S]?this[m]=null:this[m]=e&&e.encoding||null,"buffer"===this[m]&&(this[m]=null),this[g]=this[m]?new o(this[m]):null,this[a]=!1,this[c]=!1,this[l]=!1,this[u]=!1,this.writable=!0,this.readable=!0,this[w]=0,this[R]=!1}get bufferLength(){return this[w]}get encoding(){return this[m]}set encoding(e){if(this[S])throw new Error("cannot set encoding in objectMode");if(this[m]&&e!==this[m]&&(this[g]&&this[g].lastNeed||this[w]))throw new Error("cannot change encoding");this[m]!==e&&(this[g]=e?new o(e):null,this.buffer.length&&(this.buffer=this.buffer.map((e=>this[g].write(e))))),this[m]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[S]}set objectMode(e){this[S]=this[S]||!!e}write(e,t,s){if(this[a])throw new Error("write after end");return this[R]?(this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0):("function"==typeof t&&(s=t,t="utf8"),t||(t="utf8"),this[S]||Buffer.isBuffer(e)||(i=e,!Buffer.isBuffer(i)&&ArrayBuffer.isView(i)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):(e=>e instanceof ArrayBuffer||"object"==typeof e&&e.constructor&&"ArrayBuffer"===e.constructor.name&&e.byteLength>=0)(e)?e=Buffer.from(e):"string"!=typeof e&&(this.objectMode=!0)),this.objectMode||e.length?("string"!=typeof e||this[S]||t===this[m]&&!this[g].lastNeed||(e=Buffer.from(e,t)),Buffer.isBuffer(e)&&this[m]&&(e=this[g].write(e)),this.flowing?(0!==this[w]&&this[p](!0),this.emit("data",e)):this[E](e),0!==this[w]&&this.emit("readable"),s&&s(),this.flowing):(0!==this[w]&&this.emit("readable"),s&&s(),this.flowing));var i}read(e){if(this[R])return null;try{return 0===this[w]||0===e||e>this[w]?null:(this[S]&&(e=null),this.buffer.length>1&&!this[S]&&(this.encoding?this.buffer=new r([Array.from(this.buffer).join("")]):this.buffer=new r([Buffer.concat(Array.from(this.buffer),this[w])])),this[d](e||null,this.buffer.head.value))}finally{this[h]()}}[d](e,t){return e===t.length||null===e?this[_]():(this.buffer.head.value=t.slice(e),t=t.slice(0,e),this[w]-=e),this.emit("data",t),this.buffer.length||this[a]||this.emit("drain"),t}end(e,t,s){return"function"==typeof e&&(s=e,e=null),"function"==typeof t&&(s=t,t="utf8"),e&&this.write(e,t),s&&this.once("end",s),this[a]=!0,this.writable=!1,!this.flowing&&this[b]||this[h](),this}[v](){this[R]||(this[b]=!1,this[y]=!0,this.emit("resume"),this.buffer.length?this[p]():this[a]?this[h]():this.emit("drain"))}resume(){return this[v]()}pause(){this[y]=!1,this[b]=!0}get destroyed(){return this[R]}get flowing(){return this[y]}get paused(){return this[b]}[E](e){return this[S]?this[w]+=1:this[w]+=e.length,this.buffer.push(e)}[_](){return this.buffer.length&&(this[S]?this[w]-=1:this[w]-=this.buffer.head.value.length),this.buffer.shift()}[p](e){do{}while(this[f](this[_]()));e||this.buffer.length||this[a]||this.emit("drain")}[f](e){return!!e&&(this.emit("data",e),this.flowing)}pipe(e,t){if(this[R])return;const s=this[c];t=t||{},e===process.stdout||e===process.stderr?t.end=!1:t.end=!1!==t.end;const i={dest:e,opts:t,ondrain:e=>this[v]()};return this.pipes.push(i),e.on("drain",i.ondrain),this[v](),s&&i.opts.end&&i.dest.end(),e}addListener(e,t){return this.on(e,t)}on(e,t){try{return super.on(e,t)}finally{"data"!==e||this.pipes.length||this.flowing?k(e)&&this[c]&&(super.emit(e),this.removeAllListeners(e)):this[v]()}}get emittedEnd(){return this[c]}[h](){this[l]||this[c]||this[R]||0!==this.buffer.length||!this[a]||(this[l]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[u]&&this.emit("close"),this[l]=!1)}emit(e,t){if("error"!==e&&"close"!==e&&e!==R&&this[R])return;if("data"===e){if(!t)return;this.pipes.length&&this.pipes.forEach((e=>!1===e.dest.write(t)&&this.pause()))}else if("end"===e){if(!0===this[c])return;this[c]=!0,this.readable=!1,this[g]&&(t=this[g].end())&&(this.pipes.forEach((e=>e.dest.write(t))),super.emit("data",t)),this.pipes.forEach((e=>{e.dest.removeListener("drain",e.ondrain),e.opts.end&&e.dest.end()}))}else if("close"===e&&(this[u]=!0,!this[c]&&!this[R]))return;const s=new Array(arguments.length);if(s[0]=e,s[1]=t,arguments.length>2)for(let e=2;e<arguments.length;e++)s[e]=arguments[e];try{return super.emit.apply(this,s)}finally{k(e)?this.removeAllListeners(e):this[h]()}}collect(){const e=[];this[S]||(e.dataLength=0);const t=this.promise();return this.on("data",(t=>{e.push(t),this[S]||(e.dataLength+=t.length)})),t.then((()=>e))}concat(){return this[S]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then((e=>this[S]?Promise.reject(new Error("cannot concat in objectMode")):this[m]?e.join(""):Buffer.concat(e,e.dataLength)))}promise(){return new Promise(((e,t)=>{this.on(R,(()=>t(new Error("stream destroyed")))),this.on("end",(()=>e())),this.on("error",(e=>t(e)))}))}[C](){return{next:()=>{const e=this.read();if(null!==e)return Promise.resolve({done:!1,value:e});if(this[a])return Promise.resolve({done:!0});let t=null,s=null;const i=e=>{this.removeListener("data",n),this.removeListener("end",r),s(e)},n=e=>{this.removeListener("error",i),this.removeListener("end",r),this.pause(),t({value:e,done:!!this[a]})},r=()=>{this.removeListener("error",i),this.removeListener("data",n),t({done:!0})},o=()=>i(new Error("stream destroyed"));return new Promise(((e,a)=>{s=a,t=e,this.once(R,o),this.once("error",i),this.once("end",r),this.once("data",n)}))}}}[x](){return{next:()=>{const e=this.read();return{value:e,done:null===e}}}}destroy(e){return this[R]?(e?this.emit("error",e):this.emit(R),this):(this[R]=!0,this.buffer=new r,this[w]=0,"function"!=typeof this.close||this[u]||this.close(),e?this.emit("error",e):this.emit(R),this)}static isStream(t){return!!t&&(t instanceof e||t instanceof n||t instanceof i&&("function"==typeof t.pipe||"function"==typeof t.write&&"function"==typeof t.end))}}},883:(e,t,s)=>{const i=s(8761).constants||{ZLIB_VERNUM:4736};e.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:1/0,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},i))},1650:(e,t,s)=>{"use strict";const i=s(2357),n=s(4293).Buffer,r=s(8761),o=t.constants=s(883),a=s(5736),h=n.concat,c=Symbol("_superWrite");class l extends Error{constructor(e){super("zlib: "+e.message),this.code=e.code,this.errno=e.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+e.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}}const u=Symbol("opts"),d=Symbol("flushFlag"),p=Symbol("finishFlushFlag"),f=Symbol("fullFlushFlag"),m=Symbol("handle"),g=Symbol("onError"),y=Symbol("sawError"),b=Symbol("level"),v=Symbol("strategy"),w=Symbol("ended");Symbol("_defaultFullFlush");class E extends a{constructor(e,t){if(!e||"object"!=typeof e)throw new TypeError("invalid options for ZlibBase constructor");super(e),this[y]=!1,this[w]=!1,this[u]=e,this[d]=e.flush,this[p]=e.finishFlush;try{this[m]=new r[t](e)}catch(e){throw new l(e)}this[g]=e=>{this[y]||(this[y]=!0,this.close(),this.emit("error",e))},this[m].on("error",(e=>this[g](new l(e)))),this.once("end",(()=>this.close))}close(){this[m]&&(this[m].close(),this[m]=null,this.emit("close"))}reset(){if(!this[y])return i(this[m],"zlib binding closed"),this[m].reset()}flush(e){this.ended||("number"!=typeof e&&(e=this[f]),this.write(Object.assign(n.alloc(0),{[d]:e})))}end(e,t,s){return e&&this.write(e,t),this.flush(this[p]),this[w]=!0,super.end(null,null,s)}get ended(){return this[w]}write(e,t,s){if("function"==typeof t&&(s=t,t="utf8"),"string"==typeof e&&(e=n.from(e,t)),this[y])return;i(this[m],"zlib binding closed");const r=this[m]._handle,o=r.close;r.close=()=>{};const a=this[m].close;let u,p;this[m].close=()=>{},n.concat=e=>e;try{const t="number"==typeof e[d]?e[d]:this[d];u=this[m]._processChunk(e,t),n.concat=h}catch(e){n.concat=h,this[g](new l(e))}finally{this[m]&&(this[m]._handle=r,r.close=o,this[m].close=a,this[m].removeAllListeners("error"))}if(this[m]&&this[m].on("error",(e=>this[g](new l(e)))),u)if(Array.isArray(u)&&u.length>0){p=this[c](n.from(u[0]));for(let e=1;e<u.length;e++)p=this[c](u[e])}else p=this[c](n.from(u));return s&&s(),p}[c](e){return super.write(e)}}class _ extends E{constructor(e,t){(e=e||{}).flush=e.flush||o.Z_NO_FLUSH,e.finishFlush=e.finishFlush||o.Z_FINISH,super(e,t),this[f]=o.Z_FULL_FLUSH,this[b]=e.level,this[v]=e.strategy}params(e,t){if(!this[y]){if(!this[m])throw new Error("cannot switch params when binding is closed");if(!this[m].params)throw new Error("not supported in this implementation");if(this[b]!==e||this[v]!==t){this.flush(o.Z_SYNC_FLUSH),i(this[m],"zlib binding closed");const s=this[m].flush;this[m].flush=(e,t)=>{this.flush(e),t()};try{this[m].params(e,t)}finally{this[m].flush=s}this[m]&&(this[b]=e,this[v]=t)}}}}const S=Symbol("_portable");class R extends E{constructor(e,t){(e=e||{}).flush=e.flush||o.BROTLI_OPERATION_PROCESS,e.finishFlush=e.finishFlush||o.BROTLI_OPERATION_FINISH,super(e,t),this[f]=o.BROTLI_OPERATION_FLUSH}}t.Deflate=class extends _{constructor(e){super(e,"Deflate")}},t.Inflate=class extends _{constructor(e){super(e,"Inflate")}},t.Gzip=class extends _{constructor(e){super(e,"Gzip"),this[S]=e&&!!e.portable}[c](e){return this[S]?(this[S]=!1,e[9]=255,super[c](e)):super[c](e)}},t.Gunzip=class extends _{constructor(e){super(e,"Gunzip")}},t.DeflateRaw=class extends _{constructor(e){super(e,"DeflateRaw")}},t.InflateRaw=class extends _{constructor(e){super(e,"InflateRaw")}},t.Unzip=class extends _{constructor(e){super(e,"Unzip")}},"function"==typeof r.BrotliCompress?(t.BrotliCompress=class extends R{constructor(e){super(e,"BrotliCompress")}},t.BrotliDecompress=class extends R{constructor(e){super(e,"BrotliDecompress")}}):t.BrotliCompress=t.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}},7824:e=>{var t=1e3,s=60*t,i=60*s,n=24*i;function r(e,t,s,i){var n=t>=1.5*s;return Math.round(e/s)+" "+i+(n?"s":"")}e.exports=function(e,o){o=o||{};var a,h,c=typeof e;if("string"===c&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var r=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(r){var o=parseFloat(r[1]);switch((r[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"weeks":case"week":case"w":return 6048e5*o;case"days":case"day":case"d":return o*n;case"hours":case"hour":case"hrs":case"hr":case"h":return o*i;case"minutes":case"minute":case"mins":case"min":case"m":return o*s;case"seconds":case"second":case"secs":case"sec":case"s":return o*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}(e);if("number"===c&&isFinite(e))return o.long?(a=e,(h=Math.abs(a))>=n?r(a,h,n,"day"):h>=i?r(a,h,i,"hour"):h>=s?r(a,h,s,"minute"):h>=t?r(a,h,t,"second"):a+" ms"):function(e){var r=Math.abs(e);return r>=n?Math.round(e/n)+"d":r>=i?Math.round(e/i)+"h":r>=s?Math.round(e/s)+"m":r>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},2130:(e,t,s)=>{"use strict";const i=s(2087),n=s(6560),r=process.env;let o;function a(e){return 0!==(t=function(e){if(!1===o)return 0;if(n("color=16m")||n("color=full")||n("color=truecolor"))return 3;if(n("color=256"))return 2;if(e&&!e.isTTY&&!0!==o)return 0;const t=o?1:0;if("win32"===process.platform){const e=i.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in r)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some((e=>e in r))||"codeship"===r.CI_NAME?1:t;if("TEAMCITY_VERSION"in r)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(r.TEAMCITY_VERSION)?1:0;if("truecolor"===r.COLORTERM)return 3;if("TERM_PROGRAM"in r){const e=parseInt((r.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(r.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(r.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(r.TERM)||"COLORTERM"in r?1:(r.TERM,t)}(e))&&{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3};var t}n("no-color")||n("no-colors")||n("color=false")?o=!1:(n("color")||n("colors")||n("color=true")||n("color=always"))&&(o=!0),"FORCE_COLOR"in r&&(o=0===r.FORCE_COLOR.length||0!==parseInt(r.FORCE_COLOR,10)),e.exports={supportsColor:a,stdout:a(process.stdout),stderr:a(process.stderr)}},7998:(e,t,s)=>{"use strict";t.c=t.create=s(4629),t.r=t.replace=s(1746),t.t=t.list=s(6473),t.u=t.update=s(5997),t.x=t.extract=s(769),t.Pack=s(8042),t.Unpack=s(2699),t.Parse=s(6824),t.ReadEntry=s(6277),t.WriteEntry=s(7620),t.Header=s(7134),t.Pax=s(4747),t.types=s(4402)},4629:(e,t,s)=>{"use strict";const i=s(2093),n=s(8042),r=s(292),o=s(6473),a=s(5622);e.exports=(e,t,s)=>{if("function"==typeof t&&(s=t),Array.isArray(e)&&(t=e,e={}),!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");t=Array.from(t);const n=i(e);if(n.sync&&"function"==typeof s)throw new TypeError("callback not supported for sync tar functions");if(!n.file&&"function"==typeof s)throw new TypeError("callback only supported with file option");return n.file&&n.sync?h(n,t):n.file?c(n,t,s):n.sync?d(n,t):p(n,t)};const h=(e,t)=>{const s=new n.Sync(e),i=new r.WriteStreamSync(e.file,{mode:e.mode||438});s.pipe(i),l(s,t)},c=(e,t,s)=>{const i=new n(e),o=new r.WriteStream(e.file,{mode:e.mode||438});i.pipe(o);const a=new Promise(((e,t)=>{o.on("error",t),o.on("close",e),i.on("error",t)}));return u(i,t),s?a.then(s,s):a},l=(e,t)=>{t.forEach((t=>{"@"===t.charAt(0)?o({file:a.resolve(e.cwd,t.substr(1)),sync:!0,noResume:!0,onentry:t=>e.add(t)}):e.add(t)})),e.end()},u=(e,t)=>{for(;t.length;){const s=t.shift();if("@"===s.charAt(0))return o({file:a.resolve(e.cwd,s.substr(1)),noResume:!0,onentry:t=>e.add(t)}).then((s=>u(e,t)));e.add(s)}e.end()},d=(e,t)=>{const s=new n.Sync(e);return l(s,t),s},p=(e,t)=>{const s=new n(e);return u(s,t),s}},769:(e,t,s)=>{"use strict";const i=s(2093),n=s(2699),r=s(5747),o=s(292),a=s(5622);e.exports=(e,t,s)=>{"function"==typeof e?(s=e,t=null,e={}):Array.isArray(e)&&(t=e,e={}),"function"==typeof t&&(s=t,t=null),t=t?Array.from(t):[];const n=i(e);if(n.sync&&"function"==typeof s)throw new TypeError("callback not supported for sync tar functions");if(!n.file&&"function"==typeof s)throw new TypeError("callback only supported with file option");return t.length&&h(n,t),n.file&&n.sync?c(n):n.file?l(n,s):n.sync?u(n):d(n)};const h=(e,t)=>{const s=new Map(t.map((e=>[e.replace(/\/+$/,""),!0]))),i=e.filter,n=(e,t)=>{const i=t||a.parse(e).root||".",r=e!==i&&(s.has(e)?s.get(e):n(a.dirname(e),i));return s.set(e,r),r};e.filter=i?(e,t)=>i(e,t)&&n(e.replace(/\/+$/,"")):e=>n(e.replace(/\/+$/,""))},c=e=>{const t=new n.Sync(e),s=e.file,i=r.statSync(s),a=e.maxReadSize||16777216;new o.ReadStreamSync(s,{readSize:a,size:i.size}).pipe(t)},l=(e,t)=>{const s=new n(e),i=e.maxReadSize||16777216,a=e.file,h=new Promise(((e,t)=>{s.on("error",t),s.on("close",e),r.stat(a,((e,n)=>{if(e)t(e);else{const e=new o.ReadStream(a,{readSize:i,size:n.size});e.on("error",t),e.pipe(s)}}))}));return t?h.then(t,t):h},u=e=>new n.Sync(e),d=e=>new n(e)},5879:(e,t,s)=>{const i="win32"===(process.env.__FAKE_PLATFORM__||process.platform),n=global.__FAKE_TESTING_FS__||s(5747),{O_CREAT:r,O_TRUNC:o,O_WRONLY:a,UV_FS_O_FILEMAP:h=0}=n.constants,c=i&&!!h,l=h|o|r|a;e.exports=c?e=>e<524288?l:"w":()=>"w"},7134:(e,t,s)=>{"use strict";const i=s(4402),n=s(5622).posix,r=s(9678),o=Symbol("slurp"),a=Symbol("type"),h=(e,t,s)=>e.slice(t,t+s).toString("utf8").replace(/\0.*/,""),c=(e,t,s)=>l(u(e,t,s)),l=e=>null===e?null:new Date(1e3*e),u=(e,t,s)=>128&e[t]?r.parse(e.slice(t,t+s)):d(e,t,s),d=(e,t,s)=>{return i=parseInt(e.slice(t,t+s).toString("utf8").replace(/\0.*$/,"").trim(),8),isNaN(i)?null:i;var i},p={12:8589934591,8:2097151},f=(e,t,s,i)=>null!==i&&(i>p[s]||i<0?(r.encode(i,e.slice(t,t+s)),!0):(m(e,t,s,i),!1)),m=(e,t,s,i)=>e.write(g(i,s),t,s,"ascii"),g=(e,t)=>y(Math.floor(e).toString(8),t),y=(e,t)=>(e.length===t-1?e:new Array(t-e.length-1).join("0")+e+" ")+"\0",b=(e,t,s,i)=>null!==i&&f(e,t,s,i.getTime()/1e3),v=new Array(156).join("\0"),w=(e,t,s,i)=>null!==i&&(e.write(i+v,t,s,"utf8"),i.length!==Buffer.byteLength(i)||i.length>s);e.exports=class{constructor(e,t,s,i){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[a]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,Buffer.isBuffer(e)?this.decode(e,t||0,s,i):e&&this.set(e)}decode(e,t,s,i){if(t||(t=0),!(e&&e.length>=t+512))throw new Error("need 512 bytes for header");if(this.path=h(e,t,100),this.mode=u(e,t+100,8),this.uid=u(e,t+108,8),this.gid=u(e,t+116,8),this.size=u(e,t+124,12),this.mtime=c(e,t+136,12),this.cksum=u(e,t+148,12),this[o](s),this[o](i,!0),this[a]=h(e,t+156,1),""===this[a]&&(this[a]="0"),"0"===this[a]&&"/"===this.path.substr(-1)&&(this[a]="5"),"5"===this[a]&&(this.size=0),this.linkpath=h(e,t+157,100),"ustar\x0000"===e.slice(t+257,t+265).toString())if(this.uname=h(e,t+265,32),this.gname=h(e,t+297,32),this.devmaj=u(e,t+329,8),this.devmin=u(e,t+337,8),0!==e[t+475]){const s=h(e,t+345,155);this.path=s+"/"+this.path}else{const s=h(e,t+345,130);s&&(this.path=s+"/"+this.path),this.atime=c(e,t+476,12),this.ctime=c(e,t+488,12)}let n=256;for(let s=t;s<t+148;s++)n+=e[s];for(let s=t+156;s<t+512;s++)n+=e[s];this.cksumValid=n===this.cksum,null===this.cksum&&256===n&&(this.nullBlock=!0)}[o](e,t){for(const s in e)null===e[s]||void 0===e[s]||t&&"path"===s||(this[s]=e[s])}encode(e,t){if(e||(e=this.block=Buffer.alloc(512),t=0),t||(t=0),!(e.length>=t+512))throw new Error("need 512 bytes for header");const s=this.ctime||this.atime?130:155,i=((e,t)=>{let s,i=e,r="";const o=n.parse(e).root||".";if(Buffer.byteLength(i)<100)s=[i,r,!1];else{r=n.dirname(i),i=n.basename(i);do{Buffer.byteLength(i)<=100&&Buffer.byteLength(r)<=t?s=[i,r,!1]:Buffer.byteLength(i)>100&&Buffer.byteLength(r)<=t?s=[i.substr(0,99),r,!0]:(i=n.join(n.basename(r),i),r=n.dirname(r))}while(r!==o&&!s);s||(s=[e.substr(0,99),"",!0])}return s})(this.path||"",s),r=i[0],o=i[1];this.needPax=i[2],this.needPax=w(e,t,100,r)||this.needPax,this.needPax=f(e,t+100,8,this.mode)||this.needPax,this.needPax=f(e,t+108,8,this.uid)||this.needPax,this.needPax=f(e,t+116,8,this.gid)||this.needPax,this.needPax=f(e,t+124,12,this.size)||this.needPax,this.needPax=b(e,t+136,12,this.mtime)||this.needPax,e[t+156]=this[a].charCodeAt(0),this.needPax=w(e,t+157,100,this.linkpath)||this.needPax,e.write("ustar\x0000",t+257,8),this.needPax=w(e,t+265,32,this.uname)||this.needPax,this.needPax=w(e,t+297,32,this.gname)||this.needPax,this.needPax=f(e,t+329,8,this.devmaj)||this.needPax,this.needPax=f(e,t+337,8,this.devmin)||this.needPax,this.needPax=w(e,t+345,s,o)||this.needPax,0!==e[t+475]?this.needPax=w(e,t+345,155,o)||this.needPax:(this.needPax=w(e,t+345,130,o)||this.needPax,this.needPax=b(e,t+476,12,this.atime)||this.needPax,this.needPax=b(e,t+488,12,this.ctime)||this.needPax);let h=256;for(let s=t;s<t+148;s++)h+=e[s];for(let s=t+156;s<t+512;s++)h+=e[s];return this.cksum=h,f(e,t+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(e){for(const t in e)null!==e[t]&&void 0!==e[t]&&(this[t]=e[t])}get type(){return i.name.get(this[a])||this[a]}get typeKey(){return this[a]}set type(e){i.code.has(e)?this[a]=i.code.get(e):this[a]=e}}},2093:e=>{"use strict";const t=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);e.exports=e=>e?Object.keys(e).map((s=>[t.has(s)?t.get(s):s,e[s]])).reduce(((e,t)=>(e[t[0]]=t[1],e)),Object.create(null)):{}},9678:e=>{"use strict";const t=e=>255&(255^e),s=e=>1+(255^e)&255;e.exports={encode:(e,i)=>{if(!Number.isSafeInteger(e))throw Error("cannot encode number outside of javascript safe integer range");return e<0?((e,i)=>{i[0]=255;var n=!1;e*=-1;for(var r=i.length;r>1;r--){var o=255&e;e=Math.floor(e/256),n?i[r-1]=t(o):0===o?i[r-1]=0:(n=!0,i[r-1]=s(o))}})(e,i):((e,t)=>{t[0]=128;for(var s=t.length;s>1;s--)t[s-1]=255&e,e=Math.floor(e/256)})(e,i),i},parse:e=>{const i=e[0],n=128===i?(e=>{for(var t=e.length,s=0,i=t-1;i>-1;i--){var n=e[i];0!==n&&(s+=n*Math.pow(256,t-i-1))}return s})(e.slice(1,e.length)):255===i?(e=>{for(var i=e.length,n=0,r=!1,o=i-1;o>-1;o--){var a,h=e[o];r?a=t(h):0===h?a=h:(r=!0,a=s(h)),0!==a&&(n-=a*Math.pow(256,i-o-1))}return n})(e):null;if(null===n)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(n))throw Error("parsed number outside of javascript safe integer range");return n}}},6473:(e,t,s)=>{"use strict";const i=s(2093),n=s(6824),r=s(5747),o=s(292),a=s(5622);e.exports=(e,t,s)=>{"function"==typeof e?(s=e,t=null,e={}):Array.isArray(e)&&(t=e,e={}),"function"==typeof t&&(s=t,t=null),t=t?Array.from(t):[];const n=i(e);if(n.sync&&"function"==typeof s)throw new TypeError("callback not supported for sync tar functions");if(!n.file&&"function"==typeof s)throw new TypeError("callback only supported with file option");return t.length&&c(n,t),n.noResume||h(n),n.file&&n.sync?l(n):n.file?u(n,s):d(n)};const h=e=>{const t=e.onentry;e.onentry=t?e=>{t(e),e.resume()}:e=>e.resume()},c=(e,t)=>{const s=new Map(t.map((e=>[e.replace(/\/+$/,""),!0]))),i=e.filter,n=(e,t)=>{const i=t||a.parse(e).root||".",r=e!==i&&(s.has(e)?s.get(e):n(a.dirname(e),i));return s.set(e,r),r};e.filter=i?(e,t)=>i(e,t)&&n(e.replace(/\/+$/,"")):e=>n(e.replace(/\/+$/,""))},l=e=>{const t=d(e),s=e.file;let i,n=!0;try{const o=r.statSync(s),a=e.maxReadSize||16777216;if(o.size<a)t.end(r.readFileSync(s));else{let e=0;const n=Buffer.allocUnsafe(a);for(i=r.openSync(s,"r");e<o.size;){const s=r.readSync(i,n,0,a,e);e+=s,t.write(n.slice(0,s))}t.end()}n=!1}finally{if(n&&i)try{r.closeSync(i)}catch(e){}}},u=(e,t)=>{const s=new n(e),i=e.maxReadSize||16777216,a=e.file,h=new Promise(((e,t)=>{s.on("error",t),s.on("end",e),r.stat(a,((e,n)=>{if(e)t(e);else{const e=new o.ReadStream(a,{readSize:i,size:n.size});e.on("error",t),e.pipe(s)}}))}));return t?h.then(t,t):h},d=e=>new n(e)},3248:(e,t,s)=>{"use strict";const i=s(6318),n=s(5747),r=s(5622),o=s(9019);class a extends Error{constructor(e,t){super("Cannot extract through symbolic link"),this.path=t,this.symlink=e}get name(){return"SylinkError"}}class h extends Error{constructor(e,t){super(t+": Cannot cd into '"+e+"'"),this.path=e,this.code=t}get name(){return"CwdError"}}e.exports=(e,t,s)=>{const a=t.umask,l=448|t.mode,u=0!=(l&a),d=t.uid,p=t.gid,f="number"==typeof d&&"number"==typeof p&&(d!==t.processUid||p!==t.processGid),m=t.preserve,g=t.unlink,y=t.cache,b=t.cwd,v=(t,i)=>{t?s(t):(y.set(e,!0),i&&f?o(i,d,p,(e=>v(e))):u?n.chmod(e,l,s):s())};if(y&&!0===y.get(e))return v();if(e===b)return n.stat(e,((t,s)=>{!t&&s.isDirectory()||(t=new h(e,t&&t.code||"ENOTDIR")),v(t)}));if(m)return i(e,{mode:l}).then((e=>v(null,e)),v);const w=r.relative(b,e).split(/\/|\\/);c(b,w,l,y,g,b,null,v)};const c=(e,t,s,i,r,o,a,h)=>{if(!t.length)return h(null,a);const u=e+"/"+t.shift();if(i.get(u))return c(u,t,s,i,r,o,a,h);n.mkdir(u,s,l(u,t,s,i,r,o,a,h))},l=(e,t,s,i,o,u,d,p)=>f=>{if(f){if(f.path&&r.dirname(f.path)===u&&("ENOTDIR"===f.code||"ENOENT"===f.code))return p(new h(u,f.code));n.lstat(e,((r,h)=>{if(r)p(r);else if(h.isDirectory())c(e,t,s,i,o,u,d,p);else if(o)n.unlink(e,(r=>{if(r)return p(r);n.mkdir(e,s,l(e,t,s,i,o,u,d,p))}));else{if(h.isSymbolicLink())return p(new a(e,e+"/"+t.join("/")));p(f)}}))}else c(e,t,s,i,o,u,d=d||e,p)};e.exports.sync=(e,t)=>{const s=t.umask,c=448|t.mode,l=0!=(c&s),u=t.uid,d=t.gid,p="number"==typeof u&&"number"==typeof d&&(u!==t.processUid||d!==t.processGid),f=t.preserve,m=t.unlink,g=t.cache,y=t.cwd,b=t=>{g.set(e,!0),t&&p&&o.sync(t,u,d),l&&n.chmodSync(e,c)};if(g&&!0===g.get(e))return b();if(e===y){let t=!1,s="ENOTDIR";try{t=n.statSync(e).isDirectory()}catch(e){s=e.code}finally{if(!t)throw new h(e,s)}return void b()}if(f)return b(i.sync(e,c));const v=r.relative(y,e).split(/\/|\\/);let w=null;for(let e=v.shift(),t=y;e&&(t+="/"+e);e=v.shift())if(!g.get(t))try{n.mkdirSync(t,c),w=w||t,g.set(t,!0)}catch(e){if(e.path&&r.dirname(e.path)===y&&("ENOTDIR"===e.code||"ENOENT"===e.code))return new h(y,e.code);const s=n.lstatSync(t);if(s.isDirectory()){g.set(t,!0);continue}if(m){n.unlinkSync(t),n.mkdirSync(t,c),w=w||t,g.set(t,!0);continue}if(s.isSymbolicLink())return new a(t,t+"/"+v.join("/"))}return b(w)}},7716:e=>{"use strict";e.exports=(e,t,s)=>(e&=4095,s&&(e=-19&(384|e)),t&&(256&e&&(e|=64),32&e&&(e|=8),4&e&&(e|=1)),e)},8042:(e,t,s)=>{"use strict";class i{constructor(e,t){this.path=e||"./",this.absolute=t,this.entry=null,this.stat=null,this.readdir=null,this.pending=!1,this.ignore=!1,this.piped=!1}}const n=s(5736),r=s(1650),o=s(6277),a=s(7620),h=a.Sync,c=a.Tar,l=s(4411),u=Buffer.alloc(1024),d=Symbol("onStat"),p=Symbol("ended"),f=Symbol("queue"),m=Symbol("current"),g=Symbol("process"),y=Symbol("processing"),b=Symbol("processJob"),v=Symbol("jobs"),w=Symbol("jobDone"),E=Symbol("addFSEntry"),_=Symbol("addTarEntry"),S=Symbol("stat"),R=Symbol("readdir"),O=Symbol("onreaddir"),C=Symbol("pipe"),x=Symbol("entry"),k=Symbol("entryOpt"),T=Symbol("writeEntryClass"),A=Symbol("write"),L=Symbol("ondrain"),I=s(5747),P=s(5622),D=s(7902)(class extends n{constructor(e){super(e),e=e||Object.create(null),this.opt=e,this.file=e.file||"",this.cwd=e.cwd||process.cwd(),this.maxReadSize=e.maxReadSize,this.preservePaths=!!e.preservePaths,this.strict=!!e.strict,this.noPax=!!e.noPax,this.prefix=(e.prefix||"").replace(/(\\|\/)+$/,""),this.linkCache=e.linkCache||new Map,this.statCache=e.statCache||new Map,this.readdirCache=e.readdirCache||new Map,this[T]=a,"function"==typeof e.onwarn&&this.on("warn",e.onwarn),this.portable=!!e.portable,this.zip=null,e.gzip?("object"!=typeof e.gzip&&(e.gzip={}),this.portable&&(e.gzip.portable=!0),this.zip=new r.Gzip(e.gzip),this.zip.on("data",(e=>super.write(e))),this.zip.on("end",(e=>super.end())),this.zip.on("drain",(e=>this[L]())),this.on("resume",(e=>this.zip.resume()))):this.on("drain",this[L]),this.noDirRecurse=!!e.noDirRecurse,this.follow=!!e.follow,this.noMtime=!!e.noMtime,this.mtime=e.mtime||null,this.filter="function"==typeof e.filter?e.filter:e=>!0,this[f]=new l,this[v]=0,this.jobs=+e.jobs||4,this[y]=!1,this[p]=!1}[A](e){return super.write(e)}add(e){return this.write(e),this}end(e){return e&&this.write(e),this[p]=!0,this[g](),this}write(e){if(this[p])throw new Error("write after end");return e instanceof o?this[_](e):this[E](e),this.flowing}[_](e){const t=P.resolve(this.cwd,e.path);if(this.prefix&&(e.path=this.prefix+"/"+e.path.replace(/^\.(\/+|$)/,"")),this.filter(e.path,e)){const s=new i(e.path,t,!1);s.entry=new c(e,this[k](s)),s.entry.on("end",(e=>this[w](s))),this[v]+=1,this[f].push(s)}else e.resume();this[g]()}[E](e){const t=P.resolve(this.cwd,e);this.prefix&&(e=this.prefix+"/"+e.replace(/^\.(\/+|$)/,"")),this[f].push(new i(e,t)),this[g]()}[S](e){e.pending=!0,this[v]+=1;const t=this.follow?"stat":"lstat";I[t](e.absolute,((t,s)=>{e.pending=!1,this[v]-=1,t?this.emit("error",t):this[d](e,s)}))}[d](e,t){this.statCache.set(e.absolute,t),e.stat=t,this.filter(e.path,t)||(e.ignore=!0),this[g]()}[R](e){e.pending=!0,this[v]+=1,I.readdir(e.absolute,((t,s)=>{if(e.pending=!1,this[v]-=1,t)return this.emit("error",t);this[O](e,s)}))}[O](e,t){this.readdirCache.set(e.absolute,t),e.readdir=t,this[g]()}[g](){if(!this[y]){this[y]=!0;for(let e=this[f].head;null!==e&&this[v]<this.jobs;e=e.next)if(this[b](e.value),e.value.ignore){const t=e.next;this[f].removeNode(e),e.next=t}this[y]=!1,this[p]&&!this[f].length&&0===this[v]&&(this.zip?this.zip.end(u):(super.write(u),super.end()))}}get[m](){return this[f]&&this[f].head&&this[f].head.value}[w](e){this[f].shift(),this[v]-=1,this[g]()}[b](e){e.pending||(e.entry?e!==this[m]||e.piped||this[C](e):(e.stat||(this.statCache.has(e.absolute)?this[d](e,this.statCache.get(e.absolute)):this[S](e)),e.stat&&(e.ignore||(this.noDirRecurse||!e.stat.isDirectory()||e.readdir||(this.readdirCache.has(e.absolute)?this[O](e,this.readdirCache.get(e.absolute)):this[R](e),e.readdir))&&(e.entry=this[x](e),e.entry?e!==this[m]||e.piped||this[C](e):e.ignore=!0))))}[k](e){return{onwarn:(e,t,s)=>this.warn(e,t,s),noPax:this.noPax,cwd:this.cwd,absolute:e.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime}}[x](e){this[v]+=1;try{return new this[T](e.path,this[k](e)).on("end",(()=>this[w](e))).on("error",(e=>this.emit("error",e)))}catch(e){this.emit("error",e)}}[L](){this[m]&&this[m].entry&&this[m].entry.resume()}[C](e){e.piped=!0,e.readdir&&e.readdir.forEach((t=>{const s=this.prefix?e.path.slice(this.prefix.length+1)||"./":e.path,i="./"===s?"":s.replace(/\/*$/,"/");this[E](i+t)}));const t=e.entry,s=this.zip;s?t.on("data",(e=>{s.write(e)||t.pause()})):t.on("data",(e=>{super.write(e)||t.pause()}))}pause(){return this.zip&&this.zip.pause(),super.pause()}});D.Sync=class extends D{constructor(e){super(e),this[T]=h}pause(){}resume(){}[S](e){const t=this.follow?"statSync":"lstatSync";this[d](e,I[t](e.absolute))}[R](e,t){this[O](e,I.readdirSync(e.absolute))}[C](e){const t=e.entry,s=this.zip;e.readdir&&e.readdir.forEach((t=>{const s=this.prefix?e.path.slice(this.prefix.length+1)||"./":e.path,i="./"===s?"":s.replace(/\/*$/,"/");this[E](i+t)})),s?t.on("data",(e=>{s.write(e)})):t.on("data",(e=>{super[A](e)}))}},e.exports=D},6824:(e,t,s)=>{"use strict";const i=s(7902),n=s(7134),r=s(8614),o=s(4411),a=s(6277),h=s(4747),c=s(1650),l=Buffer.from([31,139]),u=Symbol("state"),d=Symbol("writeEntry"),p=Symbol("readEntry"),f=Symbol("nextEntry"),m=Symbol("processEntry"),g=Symbol("extendedHeader"),y=Symbol("globalExtendedHeader"),b=Symbol("meta"),v=Symbol("emitMeta"),w=Symbol("buffer"),E=Symbol("queue"),_=Symbol("ended"),S=Symbol("emittedEnd"),R=Symbol("emit"),O=Symbol("unzip"),C=Symbol("consumeChunk"),x=Symbol("consumeChunkSub"),k=Symbol("consumeBody"),T=Symbol("consumeMeta"),A=Symbol("consumeHeader"),L=Symbol("consuming"),I=Symbol("bufferConcat"),P=Symbol("maybeEnd"),D=Symbol("writing"),N=Symbol("aborted"),F=Symbol("onDone"),B=Symbol("sawValidEntry"),M=Symbol("sawNullBlock"),j=Symbol("sawEOF"),U=e=>!0;e.exports=i(class extends r{constructor(e){super(e=e||{}),this.file=e.file||"",this[B]=null,this.on(F,(e=>{"begin"!==this[u]&&!1!==this[B]||this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")})),e.ondone?this.on(F,e.ondone):this.on(F,(e=>{this.emit("prefinish"),this.emit("finish"),this.emit("end"),this.emit("close")})),this.strict=!!e.strict,this.maxMetaEntrySize=e.maxMetaEntrySize||1048576,this.filter="function"==typeof e.filter?e.filter:U,this.writable=!0,this.readable=!1,this[E]=new o,this[w]=null,this[p]=null,this[d]=null,this[u]="begin",this[b]="",this[g]=null,this[y]=null,this[_]=!1,this[O]=null,this[N]=!1,this[M]=!1,this[j]=!1,"function"==typeof e.onwarn&&this.on("warn",e.onwarn),"function"==typeof e.onentry&&this.on("entry",e.onentry)}[A](e,t){let s;null===this[B]&&(this[B]=!1);try{s=new n(e,t,this[g],this[y])}catch(e){return this.warn("TAR_ENTRY_INVALID",e)}if(s.nullBlock)this[M]?(this[j]=!0,"begin"===this[u]&&(this[u]="header"),this[R]("eof")):(this[M]=!0,this[R]("nullBlock"));else if(this[M]=!1,s.cksumValid)if(s.path){const e=s.type;if(/^(Symbolic)?Link$/.test(e)&&!s.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:s});else if(!/^(Symbolic)?Link$/.test(e)&&s.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:s});else{const e=this[d]=new a(s,this[g],this[y]);if(!this[B])if(e.remain){const t=()=>{e.invalid||(this[B]=!0)};e.on("end",t)}else this[B]=!0;e.meta?e.size>this.maxMetaEntrySize?(e.ignore=!0,this[R]("ignoredEntry",e),this[u]="ignore",e.resume()):e.size>0&&(this[b]="",e.on("data",(e=>this[b]+=e)),this[u]="meta"):(this[g]=null,e.ignore=e.ignore||!this.filter(e.path,e),e.ignore?(this[R]("ignoredEntry",e),this[u]=e.remain?"ignore":"header",e.resume()):(e.remain?this[u]="body":(this[u]="header",e.end()),this[p]?this[E].push(e):(this[E].push(e),this[f]())))}}else this.warn("TAR_ENTRY_INVALID","path is required",{header:s});else this.warn("TAR_ENTRY_INVALID","checksum failure",{header:s})}[m](e){let t=!0;return e?Array.isArray(e)?this.emit.apply(this,e):(this[p]=e,this.emit("entry",e),e.emittedEnd||(e.on("end",(e=>this[f]())),t=!1)):(this[p]=null,t=!1),t}[f](){do{}while(this[m](this[E].shift()));if(!this[E].length){const e=this[p];!e||e.flowing||e.size===e.remain?this[D]||this.emit("drain"):e.once("drain",(e=>this.emit("drain")))}}[k](e,t){const s=this[d],i=s.blockRemain,n=i>=e.length&&0===t?e:e.slice(t,t+i);return s.write(n),s.blockRemain||(this[u]="header",this[d]=null,s.end()),n.length}[T](e,t){const s=this[d],i=this[k](e,t);return this[d]||this[v](s),i}[R](e,t,s){this[E].length||this[p]?this[E].push([e,t,s]):this.emit(e,t,s)}[v](e){switch(this[R]("meta",this[b]),e.type){case"ExtendedHeader":case"OldExtendedHeader":this[g]=h.parse(this[b],this[g],!1);break;case"GlobalExtendedHeader":this[y]=h.parse(this[b],this[y],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[g]=this[g]||Object.create(null),this[g].path=this[b].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[g]=this[g]||Object.create(null),this[g].linkpath=this[b].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+e.type)}}abort(e){this[N]=!0,this.emit("abort",e),this.warn("TAR_ABORT",e,{recoverable:!1})}write(e){if(this[N])return;if(null===this[O]&&e){if(this[w]&&(e=Buffer.concat([this[w],e]),this[w]=null),e.length<l.length)return this[w]=e,!0;for(let t=0;null===this[O]&&t<l.length;t++)e[t]!==l[t]&&(this[O]=!1);if(null===this[O]){const t=this[_];this[_]=!1,this[O]=new c.Unzip,this[O].on("data",(e=>this[C](e))),this[O].on("error",(e=>this.abort(e))),this[O].on("end",(e=>{this[_]=!0,this[C]()})),this[D]=!0;const s=this[O][t?"end":"write"](e);return this[D]=!1,s}}this[D]=!0,this[O]?this[O].write(e):this[C](e),this[D]=!1;const t=!this[E].length&&(!this[p]||this[p].flowing);return t||this[E].length||this[p].once("drain",(e=>this.emit("drain"))),t}[I](e){e&&!this[N]&&(this[w]=this[w]?Buffer.concat([this[w],e]):e)}[P](){if(this[_]&&!this[S]&&!this[N]&&!this[L]){this[S]=!0;const e=this[d];if(e&&e.blockRemain){const t=this[w]?this[w].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${e.blockRemain} more bytes, only ${t} available)`,{entry:e}),this[w]&&e.write(this[w]),e.end()}this[R](F)}}[C](e){if(this[L])this[I](e);else if(e||this[w]){if(this[L]=!0,this[w]){this[I](e);const t=this[w];this[w]=null,this[x](t)}else this[x](e);for(;this[w]&&this[w].length>=512&&!this[N]&&!this[j];){const e=this[w];this[w]=null,this[x](e)}this[L]=!1}else this[P]();this[w]&&!this[_]||this[P]()}[x](e){let t=0;const s=e.length;for(;t+512<=s&&!this[N]&&!this[j];)switch(this[u]){case"begin":case"header":this[A](e,t),t+=512;break;case"ignore":case"body":t+=this[k](e,t);break;case"meta":t+=this[T](e,t);break;default:throw new Error("invalid state: "+this[u])}t<s&&(this[w]?this[w]=Buffer.concat([e.slice(t),this[w]]):this[w]=e.slice(t))}end(e){this[N]||(this[O]?this[O].end(e):(this[_]=!0,this.write(e)))}})},10:(e,t,s)=>{const i=s(2357);e.exports=()=>{const e=new Map,t=new Map,{join:n}=s(5622),r=new Set,o=s=>{const{paths:i,dirs:n}=(s=>{const i=t.get(s);if(!i)throw new Error("function does not have any path reservations");return{paths:i.paths.map((t=>e.get(t))),dirs:[...i.dirs].map((t=>e.get(t)))}})(s);return i.every((e=>e[0]===s))&&n.every((e=>e[0]instanceof Set&&e[0].has(s)))},a=e=>!(r.has(e)||!o(e)||(r.add(e),e((()=>h(e))),0)),h=s=>{if(!r.has(s))return!1;const{paths:n,dirs:o}=t.get(s),h=new Set;return n.forEach((t=>{const n=e.get(t);i.equal(n[0],s),1===n.length?e.delete(t):(n.shift(),"function"==typeof n[0]?h.add(n[0]):n[0].forEach((e=>h.add(e))))})),o.forEach((t=>{const n=e.get(t);i(n[0]instanceof Set),1===n[0].size&&1===n.length?e.delete(t):1===n[0].size?(n.shift(),h.add(n[0])):n[0].delete(s)})),r.delete(s),h.forEach((e=>a(e))),!0};return{check:o,reserve:(s,i)=>{const r=new Set(s.map((e=>(e=>n(e).split(/[\\/]/).slice(0,-1).reduce(((e,t)=>e.length?e.concat(n(e[e.length-1],t)):[t]),[]))(e))).reduce(((e,t)=>e.concat(t))));return t.set(i,{dirs:r,paths:s}),s.forEach((t=>{const s=e.get(t);s?s.push(i):e.set(t,[i])})),r.forEach((t=>{const s=e.get(t);s?s[s.length-1]instanceof Set?s[s.length-1].add(i):s.push(new Set([i])):e.set(t,[new Set([i])])})),a(i)}}}},4747:(e,t,s)=>{"use strict";const i=s(7134),n=s(5622);class r{constructor(e,t){this.atime=e.atime||null,this.charset=e.charset||null,this.comment=e.comment||null,this.ctime=e.ctime||null,this.gid=e.gid||null,this.gname=e.gname||null,this.linkpath=e.linkpath||null,this.mtime=e.mtime||null,this.path=e.path||null,this.size=e.size||null,this.uid=e.uid||null,this.uname=e.uname||null,this.dev=e.dev||null,this.ino=e.ino||null,this.nlink=e.nlink||null,this.global=t||!1}encode(){const e=this.encodeBody();if(""===e)return null;const t=Buffer.byteLength(e),s=512*Math.ceil(1+t/512),r=Buffer.allocUnsafe(s);for(let e=0;e<512;e++)r[e]=0;new i({path:("PaxHeader/"+n.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:t,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(r),r.write(e,512,t,"utf8");for(let e=t+512;e<r.length;e++)r[e]=0;return r}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(e){if(null===this[e]||void 0===this[e])return"";const t=" "+("dev"===e||"ino"===e||"nlink"===e?"SCHILY.":"")+e+"="+(this[e]instanceof Date?this[e].getTime()/1e3:this[e])+"\n",s=Buffer.byteLength(t);let i=Math.floor(Math.log(s)/Math.log(10))+1;return s+i>=Math.pow(10,i)&&(i+=1),i+s+t}}r.parse=(e,t,s)=>new r(o(a(e),t),s);const o=(e,t)=>t?Object.keys(e).reduce(((t,s)=>(t[s]=e[s],t)),t):e,a=e=>e.replace(/\n$/,"").split("\n").reduce(h,Object.create(null)),h=(e,t)=>{const s=parseInt(t,10);if(s!==Buffer.byteLength(t)+1)return e;const i=(t=t.substr((s+" ").length)).split("="),n=i.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!n)return e;const r=i.join("=");return e[n]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(n)?new Date(1e3*r):/^[0-9]+$/.test(r)?+r:r,e};e.exports=r},6277:(e,t,s)=>{"use strict";const i=s(5736),n=Symbol("slurp");e.exports=class extends i{constructor(e,t,s){switch(super(),this.pause(),this.extended=t,this.globalExtended=s,this.header=e,this.startBlockSize=512*Math.ceil(e.size/512),this.blockRemain=this.startBlockSize,this.remain=e.size,this.type=e.type,this.meta=!1,this.ignore=!1,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=e.path,this.mode=e.mode,this.mode&&(this.mode=4095&this.mode),this.uid=e.uid,this.gid=e.gid,this.uname=e.uname,this.gname=e.gname,this.size=e.size,this.mtime=e.mtime,this.atime=e.atime,this.ctime=e.ctime,this.linkpath=e.linkpath,this.uname=e.uname,this.gname=e.gname,t&&this[n](t),s&&this[n](s,!0)}write(e){const t=e.length;if(t>this.blockRemain)throw new Error("writing more to entry than is appropriate");const s=this.remain,i=this.blockRemain;return this.remain=Math.max(0,s-t),this.blockRemain=Math.max(0,i-t),!!this.ignore||(s>=t?super.write(e):super.write(e.slice(0,s)))}[n](e,t){for(const s in e)null===e[s]||void 0===e[s]||t&&"path"===s||(this[s]=e[s])}}},1746:(e,t,s)=>{"use strict";const i=s(2093),n=s(8042),r=s(5747),o=s(292),a=s(6473),h=s(5622),c=s(7134);e.exports=(e,t,s)=>{const n=i(e);if(!n.file)throw new TypeError("file is required");if(n.gzip)throw new TypeError("cannot append to compressed archives");if(!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");return t=Array.from(t),n.sync?l(n,t):d(n,t,s)};const l=(e,t)=>{const s=new n.Sync(e);let i,o,a=!0;try{try{i=r.openSync(e.file,"r+")}catch(t){if("ENOENT"!==t.code)throw t;i=r.openSync(e.file,"w+")}const n=r.fstatSync(i),h=Buffer.alloc(512);e:for(o=0;o<n.size;o+=512){for(let e=0,t=0;e<512;e+=t){if(t=r.readSync(i,h,e,h.length-e,o+e),0===o&&31===h[0]&&139===h[1])throw new Error("cannot append to compressed archives");if(!t)break e}const t=new c(h);if(!t.cksumValid)break;const s=512*Math.ceil(t.size/512);if(o+s+512>n.size)break;o+=s,e.mtimeCache&&e.mtimeCache.set(t.path,t.mtime)}a=!1,u(e,s,o,i,t)}finally{if(a)try{r.closeSync(i)}catch(e){}}},u=(e,t,s,i,n)=>{const r=new o.WriteStreamSync(e.file,{fd:i,start:s});t.pipe(r),p(t,n)},d=(e,t,s)=>{t=Array.from(t);const i=new n(e),a=new Promise(((s,n)=>{i.on("error",n);let a="r+";const h=(l,u)=>l&&"ENOENT"===l.code&&"r+"===a?(a="w+",r.open(e.file,a,h)):l?n(l):void r.fstat(u,((a,h)=>{if(a)return n(a);((t,s,i)=>{const n=(e,s)=>{e?r.close(t,(t=>i(e))):i(null,s)};let o=0;if(0===s)return n(null,0);let a=0;const h=Buffer.alloc(512),l=(i,u)=>{if(i)return n(i);if(a+=u,a<512&&u)return r.read(t,h,a,h.length-a,o+a,l);if(0===o&&31===h[0]&&139===h[1])return n(new Error("cannot append to compressed archives"));if(a<512)return n(null,o);const d=new c(h);if(!d.cksumValid)return n(null,o);const p=512*Math.ceil(d.size/512);return o+p+512>s?n(null,o):(o+=p+512,o>=s?n(null,o):(e.mtimeCache&&e.mtimeCache.set(d.path,d.mtime),a=0,void r.read(t,h,0,512,o,l)))};r.read(t,h,0,512,o,l)})(u,h.size,((r,a)=>{if(r)return n(r);const h=new o.WriteStream(e.file,{fd:u,start:a});i.pipe(h),h.on("error",n),h.on("close",s),f(i,t)}))}));r.open(e.file,a,h)}));return s?a.then(s,s):a},p=(e,t)=>{t.forEach((t=>{"@"===t.charAt(0)?a({file:h.resolve(e.cwd,t.substr(1)),sync:!0,noResume:!0,onentry:t=>e.add(t)}):e.add(t)})),e.end()},f=(e,t)=>{for(;t.length;){const s=t.shift();if("@"===s.charAt(0))return a({file:h.resolve(e.cwd,s.substr(1)),noResume:!0,onentry:t=>e.add(t)}).then((s=>f(e,t)));e.add(s)}e.end()}},4402:(e,t)=>{"use strict";t.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]),t.code=new Map(Array.from(t.name).map((e=>[e[1],e[0]])))},2699:(e,t,s)=>{"use strict";const i=s(2357),n=s(6824),r=s(5747),o=s(292),a=s(5622),h=s(3248),c=s(619),l=s(10),u=Symbol("onEntry"),d=Symbol("checkFs"),p=Symbol("checkFs2"),f=Symbol("isReusable"),m=Symbol("makeFs"),g=Symbol("file"),y=Symbol("directory"),b=Symbol("link"),v=Symbol("symlink"),w=Symbol("hardlink"),E=Symbol("unsupported"),_=Symbol("checkPath"),S=Symbol("mkdir"),R=Symbol("onError"),O=Symbol("pending"),C=Symbol("pend"),x=Symbol("unpend"),k=Symbol("ended"),T=Symbol("maybeClose"),A=Symbol("skip"),L=Symbol("doChown"),I=Symbol("uid"),P=Symbol("gid"),D=s(6417),N=s(5879),F=()=>{throw new Error("sync function called cb somehow?!?")},B=(e,t,s)=>e===e>>>0?e:t===t>>>0?t:s;class M extends n{constructor(e){if(e||(e={}),e.ondone=e=>{this[k]=!0,this[T]()},super(e),this.reservations=l(),this.transform="function"==typeof e.transform?e.transform:null,this.writable=!0,this.readable=!1,this[O]=0,this[k]=!1,this.dirCache=e.dirCache||new Map,"number"==typeof e.uid||"number"==typeof e.gid){if("number"!=typeof e.uid||"number"!=typeof e.gid)throw new TypeError("cannot set owner without number uid and gid");if(e.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=e.uid,this.gid=e.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;void 0===e.preserveOwner&&"number"!=typeof e.uid?this.preserveOwner=process.getuid&&0===process.getuid():this.preserveOwner=!!e.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null,this.forceChown=!0===e.forceChown,this.win32=!!e.win32||"win32"===process.platform,this.newer=!!e.newer,this.keep=!!e.keep,this.noMtime=!!e.noMtime,this.preservePaths=!!e.preservePaths,this.unlink=!!e.unlink,this.cwd=a.resolve(e.cwd||process.cwd()),this.strip=+e.strip||0,this.processUmask=e.noChmod?0:process.umask(),this.umask="number"==typeof e.umask?e.umask:this.processUmask,this.dmode=e.dmode||511&~this.umask,this.fmode=e.fmode||438&~this.umask,this.on("entry",(e=>this[u](e)))}warn(e,t,s={}){return"TAR_BAD_ARCHIVE"!==e&&"TAR_ABORT"!==e||(s.recoverable=!1),super.warn(e,t,s)}[T](){this[k]&&0===this[O]&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"),this.emit("close"))}[_](e){if(this.strip){const t=e.path.split(/\/|\\/);if(t.length<this.strip)return!1;if(e.path=t.slice(this.strip).join("/"),"Link"===e.type){const t=e.linkpath.split(/\/|\\/);t.length>=this.strip&&(e.linkpath=t.slice(this.strip).join("/"))}}if(!this.preservePaths){const t=e.path;if(t.match(/(^|\/|\\)\.\.(\\|\/|$)/))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:e,path:t}),!1;if(a.win32.isAbsolute(t)){const s=a.win32.parse(t);e.path=t.substr(s.root.length);const i=s.root;this.warn("TAR_ENTRY_INFO",`stripping ${i} from absolute path`,{entry:e,path:t})}}if(this.win32){const t=a.win32.parse(e.path);e.path=""===t.root?c.encode(e.path):t.root+c.encode(e.path.substr(t.root.length))}return a.isAbsolute(e.path)?e.absolute=e.path:e.absolute=a.resolve(this.cwd,e.path),!0}[u](e){if(!this[_](e))return e.resume();switch(i.equal(typeof e.absolute,"string"),e.type){case"Directory":case"GNUDumpDir":e.mode&&(e.mode=448|e.mode);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[d](e);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[E](e)}}[R](e,t){"CwdError"===e.name?this.emit("error",e):(this.warn("TAR_ENTRY_ERROR",e,{entry:t}),this[x](),t.resume())}[S](e,t,s){h(e,{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:t,noChmod:this.noChmod},s)}[L](e){return this.forceChown||this.preserveOwner&&("number"==typeof e.uid&&e.uid!==this.processUid||"number"==typeof e.gid&&e.gid!==this.processGid)||"number"==typeof this.uid&&this.uid!==this.processUid||"number"==typeof this.gid&&this.gid!==this.processGid}[I](e){return B(this.uid,e.uid,this.processUid)}[P](e){return B(this.gid,e.gid,this.processGid)}[g](e,t){const s=4095&e.mode||this.fmode,i=new o.WriteStream(e.absolute,{flags:N(e.size),mode:s,autoClose:!1});i.on("error",(t=>this[R](t,e)));let n=1;const a=s=>{if(s)return this[R](s,e);0==--n&&r.close(i.fd,(s=>{t(),s?this[R](s,e):this[x]()}))};i.on("finish",(t=>{const s=e.absolute,o=i.fd;if(e.mtime&&!this.noMtime){n++;const t=e.atime||new Date,i=e.mtime;r.futimes(o,t,i,(e=>e?r.utimes(s,t,i,(t=>a(t&&e))):a()))}if(this[L](e)){n++;const t=this[I](e),i=this[P](e);r.fchown(o,t,i,(e=>e?r.chown(s,t,i,(t=>a(t&&e))):a()))}a()}));const h=this.transform&&this.transform(e)||e;h!==e&&(h.on("error",(t=>this[R](t,e))),e.pipe(h)),h.pipe(i)}[y](e,t){const s=4095&e.mode||this.dmode;this[S](e.absolute,s,(s=>{if(s)return t(),this[R](s,e);let i=1;const n=s=>{0==--i&&(t(),this[x](),e.resume())};e.mtime&&!this.noMtime&&(i++,r.utimes(e.absolute,e.atime||new Date,e.mtime,n)),this[L](e)&&(i++,r.chown(e.absolute,this[I](e),this[P](e),n)),n()}))}[E](e){e.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${e.type}`,{entry:e}),e.resume()}[v](e,t){this[b](e,e.linkpath,"symlink",t)}[w](e,t){this[b](e,a.resolve(this.cwd,e.linkpath),"link",t)}[C](){this[O]++}[x](){this[O]--,this[T]()}[A](e){this[x](),e.resume()}[f](e,t){return"File"===e.type&&!this.unlink&&t.isFile()&&t.nlink<=1&&"win32"!==process.platform}[d](e){this[C]();const t=[e.path];e.linkpath&&t.push(e.linkpath),this.reservations.reserve(t,(t=>this[p](e,t)))}[p](e,t){this[S](a.dirname(e.absolute),this.dmode,(s=>{if(s)return t(),this[R](s,e);r.lstat(e.absolute,((s,i)=>{i&&(this.keep||this.newer&&i.mtime>e.mtime)?(this[A](e),t()):s||this[f](e,i)?this[m](null,e,t):i.isDirectory()?"Directory"===e.type?this.noChmod||e.mode&&(4095&i.mode)!==e.mode?r.chmod(e.absolute,e.mode,(s=>this[m](s,e,t))):this[m](null,e,t):r.rmdir(e.absolute,(s=>this[m](s,e,t))):((e,t)=>{if("win32"!==process.platform)return r.unlink(e,t);const s=e+".DELETE."+D.randomBytes(16).toString("hex");r.rename(e,s,(e=>{if(e)return t(e);r.unlink(s,t)}))})(e.absolute,(s=>this[m](s,e,t)))}))}))}[m](e,t,s){if(e)return this[R](e,t);switch(t.type){case"File":case"OldFile":case"ContiguousFile":return this[g](t,s);case"Link":return this[w](t,s);case"SymbolicLink":return this[v](t,s);case"Directory":case"GNUDumpDir":return this[y](t,s)}}[b](e,t,s,i){r[s](t,e.absolute,(t=>{if(t)return this[R](t,e);i(),this[x](),e.resume()}))}}M.Sync=class extends M{[d](e){const t=this[S](a.dirname(e.absolute),this.dmode,F);if(t)return this[R](t,e);try{const s=r.lstatSync(e.absolute);if(this.keep||this.newer&&s.mtime>e.mtime)return this[A](e);if(this[f](e,s))return this[m](null,e,F);try{return s.isDirectory()?"Directory"===e.type?!this.noChmod&&e.mode&&(4095&s.mode)!==e.mode&&r.chmodSync(e.absolute,e.mode):r.rmdirSync(e.absolute):(e=>{if("win32"!==process.platform)return r.unlinkSync(e);const t=e+".DELETE."+D.randomBytes(16).toString("hex");r.renameSync(e,t),r.unlinkSync(t)})(e.absolute),this[m](null,e,F)}catch(t){return this[R](t,e)}}catch(t){return this[m](null,e,F)}}[g](e,t){const s=4095&e.mode||this.fmode,i=t=>{let s;try{r.closeSync(n)}catch(e){s=e}(t||s)&&this[R](t||s,e)};let n;try{n=r.openSync(e.absolute,N(e.size),s)}catch(e){return i(e)}const o=this.transform&&this.transform(e)||e;o!==e&&(o.on("error",(t=>this[R](t,e))),e.pipe(o)),o.on("data",(e=>{try{r.writeSync(n,e,0,e.length)}catch(e){i(e)}})),o.on("end",(t=>{let s=null;if(e.mtime&&!this.noMtime){const t=e.atime||new Date,i=e.mtime;try{r.futimesSync(n,t,i)}catch(n){try{r.utimesSync(e.absolute,t,i)}catch(e){s=n}}}if(this[L](e)){const t=this[I](e),i=this[P](e);try{r.fchownSync(n,t,i)}catch(n){try{r.chownSync(e.absolute,t,i)}catch(e){s=s||n}}}i(s)}))}[y](e,t){const s=4095&e.mode||this.dmode,i=this[S](e.absolute,s);if(i)return this[R](i,e);if(e.mtime&&!this.noMtime)try{r.utimesSync(e.absolute,e.atime||new Date,e.mtime)}catch(i){}if(this[L](e))try{r.chownSync(e.absolute,this[I](e),this[P](e))}catch(i){}e.resume()}[S](e,t){try{return h.sync(e,{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:t})}catch(e){return e}}[b](e,t,s,i){try{r[s+"Sync"](t,e.absolute),e.resume()}catch(t){return this[R](t,e)}}},e.exports=M},5997:(e,t,s)=>{"use strict";const i=s(2093),n=s(1746);e.exports=(e,t,s)=>{const o=i(e);if(!o.file)throw new TypeError("file is required");if(o.gzip)throw new TypeError("cannot append to compressed archives");if(!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");return t=Array.from(t),r(o),n(o,t,s)};const r=e=>{const t=e.filter;e.mtimeCache||(e.mtimeCache=new Map),e.filter=t?(s,i)=>t(s,i)&&!(e.mtimeCache.get(s)>i.mtime):(t,s)=>!(e.mtimeCache.get(t)>s.mtime)}},7902:e=>{"use strict";e.exports=e=>class extends e{warn(e,t,s={}){this.file&&(s.file=this.file),this.cwd&&(s.cwd=this.cwd),s.code=t instanceof Error&&t.code||e,s.tarCode=e,this.strict||!1===s.recoverable?t instanceof Error?this.emit("error",Object.assign(t,s)):this.emit("error",Object.assign(new Error(`${e}: ${t}`),s)):(t instanceof Error&&(s=Object.assign(t,s),t=t.message),this.emit("warn",s.tarCode,t,s))}}},619:e=>{"use strict";const t=["|","<",">","?",":"],s=t.map((e=>String.fromCharCode(61440+e.charCodeAt(0)))),i=new Map(t.map(((e,t)=>[e,s[t]]))),n=new Map(s.map(((e,s)=>[e,t[s]])));e.exports={encode:e=>t.reduce(((e,t)=>e.split(t).join(i.get(t))),e),decode:e=>s.reduce(((e,t)=>e.split(t).join(n.get(t))),e)}},7620:(e,t,s)=>{"use strict";const i=s(5736),n=s(4747),r=s(7134),o=s(5747),a=s(5622),h=Symbol("process"),c=Symbol("file"),l=Symbol("directory"),u=Symbol("symlink"),d=Symbol("hardlink"),p=Symbol("header"),f=Symbol("read"),m=Symbol("lstat"),g=Symbol("onlstat"),y=Symbol("onread"),b=Symbol("onreadlink"),v=Symbol("openfile"),w=Symbol("onopenfile"),E=Symbol("close"),_=Symbol("mode"),S=s(7902),R=s(619),O=s(7716),C=S(class extends i{constructor(e,t){if(super(t=t||{}),"string"!=typeof e)throw new TypeError("path is required");this.path=e,this.portable=!!t.portable,this.myuid=process.getuid&&process.getuid(),this.myuser=process.env.USER||"",this.maxReadSize=t.maxReadSize||16777216,this.linkCache=t.linkCache||new Map,this.statCache=t.statCache||new Map,this.preservePaths=!!t.preservePaths,this.cwd=t.cwd||process.cwd(),this.strict=!!t.strict,this.noPax=!!t.noPax,this.noMtime=!!t.noMtime,this.mtime=t.mtime||null,"function"==typeof t.onwarn&&this.on("warn",t.onwarn);let s=!1;if(!this.preservePaths&&a.win32.isAbsolute(e)){const t=a.win32.parse(e);this.path=e.substr(t.root.length),s=t.root}this.win32=!!t.win32||"win32"===process.platform,this.win32&&(this.path=R.decode(this.path.replace(/\\/g,"/")),e=e.replace(/\\/g,"/")),this.absolute=t.absolute||a.resolve(this.cwd,e),""===this.path&&(this.path="./"),s&&this.warn("TAR_ENTRY_INFO",`stripping ${s} from absolute path`,{entry:this,path:s+this.path}),this.statCache.has(this.absolute)?this[g](this.statCache.get(this.absolute)):this[m]()}[m](){o.lstat(this.absolute,((e,t)=>{if(e)return this.emit("error",e);this[g](t)}))}[g](e){this.statCache.set(this.absolute,e),this.stat=e,e.isFile()||(e.size=0),this.type=k(e),this.emit("stat",e),this[h]()}[h](){switch(this.type){case"File":return this[c]();case"Directory":return this[l]();case"SymbolicLink":return this[u]();default:return this.end()}}[_](e){return O(e,"Directory"===this.type,this.portable)}[p](){"Directory"===this.type&&this.portable&&(this.noMtime=!0),this.header=new r({path:this.path,linkpath:this.linkpath,mode:this[_](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime}),this.header.encode()&&!this.noPax&&this.write(new n({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this.path,linkpath:this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode()),this.write(this.header.block)}[l](){"/"!==this.path.substr(-1)&&(this.path+="/"),this.stat.size=0,this[p](),this.end()}[u](){o.readlink(this.absolute,((e,t)=>{if(e)return this.emit("error",e);this[b](t)}))}[b](e){this.linkpath=e.replace(/\\/g,"/"),this[p](),this.end()}[d](e){this.type="Link",this.linkpath=a.relative(this.cwd,e).replace(/\\/g,"/"),this.stat.size=0,this[p](),this.end()}[c](){if(this.stat.nlink>1){const e=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(e)){const t=this.linkCache.get(e);if(0===t.indexOf(this.cwd))return this[d](t)}this.linkCache.set(e,this.absolute)}if(this[p](),0===this.stat.size)return this.end();this[v]()}[v](){o.open(this.absolute,"r",((e,t)=>{if(e)return this.emit("error",e);this[w](t)}))}[w](e){const t=512*Math.ceil(this.stat.size/512),s=Math.min(t,this.maxReadSize),i=Buffer.allocUnsafe(s);this[f](e,i,0,i.length,0,this.stat.size,t)}[f](e,t,s,i,n,r,a){o.read(e,t,s,i,n,((o,h)=>{if(o)return this[E](e,(()=>this.emit("error",o)));this[y](e,t,s,i,n,r,a,h)}))}[E](e,t){o.close(e,t)}[y](e,t,s,i,n,r,o,a){if(a<=0&&r>0){const t=new Error("encountered unexpected EOF");return t.path=this.absolute,t.syscall="read",t.code="EOF",this[E](e,(()=>this.emit("error",t)))}if(a>r){const t=new Error("did not encounter expected EOF");return t.path=this.absolute,t.syscall="read",t.code="EOF",this[E](e,(()=>this.emit("error",t)))}if(a===r)for(let e=a;e<i&&a<o;e++)t[e+s]=0,a++,r++;const h=0===s&&a===t.length?t:t.slice(s,s+a);if(r-=a,o-=a,n+=a,s+=a,this.write(h),!r)return o&&this.write(Buffer.alloc(o)),this[E](e,(e=>e?this.emit("error",e):this.end()));s>=i&&(t=Buffer.allocUnsafe(i),s=0),i=t.length-s,this[f](e,t,s,i,n,r,o)}}),x=S(class extends i{constructor(e,t){super(t=t||{}),this.preservePaths=!!t.preservePaths,this.portable=!!t.portable,this.strict=!!t.strict,this.noPax=!!t.noPax,this.noMtime=!!t.noMtime,this.readEntry=e,this.type=e.type,"Directory"===this.type&&this.portable&&(this.noMtime=!0),this.path=e.path,this.mode=this[_](e.mode),this.uid=this.portable?null:e.uid,this.gid=this.portable?null:e.gid,this.uname=this.portable?null:e.uname,this.gname=this.portable?null:e.gname,this.size=e.size,this.mtime=this.noMtime?null:t.mtime||e.mtime,this.atime=this.portable?null:e.atime,this.ctime=this.portable?null:e.ctime,this.linkpath=e.linkpath,"function"==typeof t.onwarn&&this.on("warn",t.onwarn);let s=!1;if(a.isAbsolute(this.path)&&!this.preservePaths){const e=a.parse(this.path);s=e.root,this.path=this.path.substr(e.root.length)}this.remain=e.size,this.blockRemain=e.startBlockSize,this.header=new r({path:this.path,linkpath:this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime}),s&&this.warn("TAR_ENTRY_INFO",`stripping ${s} from absolute path`,{entry:this,path:s+this.path}),this.header.encode()&&!this.noPax&&super.write(new n({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this.path,linkpath:this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode()),super.write(this.header.block),e.pipe(this)}[_](e){return O(e,"Directory"===this.type,this.portable)}write(e){const t=e.length;if(t>this.blockRemain)throw new Error("writing more to entry than is appropriate");return this.blockRemain-=t,super.write(e)}end(){return this.blockRemain&&this.write(Buffer.alloc(this.blockRemain)),super.end()}});C.Sync=class extends C{[m](){this[g](o.lstatSync(this.absolute))}[u](){this[b](o.readlinkSync(this.absolute))}[v](){this[w](o.openSync(this.absolute,"r"))}[f](e,t,s,i,n,r,a){let h=!0;try{const c=o.readSync(e,t,s,i,n);this[y](e,t,s,i,n,r,a,c),h=!1}finally{if(h)try{this[E](e,(()=>{}))}catch(e){}}}[E](e,t){o.closeSync(e),t()}},C.Tar=x;const k=e=>e.isFile()?"File":e.isDirectory()?"Directory":e.isSymbolicLink()?"SymbolicLink":"Unsupported";e.exports=C},6318:(e,t,s)=>{const i=s(2736),n=s(7543),{mkdirpNative:r,mkdirpNativeSync:o}=s(5612),{mkdirpManual:a,mkdirpManualSync:h}=s(1175),{useNative:c,useNativeSync:l}=s(2589),u=(e,t)=>(e=n(e),t=i(t),c(t)?r(e,t):a(e,t));u.sync=(e,t)=>(e=n(e),t=i(t),l(t)?o(e,t):h(e,t)),u.native=(e,t)=>r(n(e),i(t)),u.manual=(e,t)=>a(n(e),i(t)),u.nativeSync=(e,t)=>o(n(e),i(t)),u.manualSync=(e,t)=>h(n(e),i(t)),e.exports=u},1139:(e,t,s)=>{const{dirname:i}=s(5622),n=(e,t,s)=>s===t?Promise.resolve():e.statAsync(t).then((e=>e.isDirectory()?s:void 0),(s=>"ENOENT"===s.code?n(e,i(t),t):void 0)),r=(e,t,s)=>{if(s!==t)try{return e.statSync(t).isDirectory()?s:void 0}catch(s){return"ENOENT"===s.code?r(e,i(t),t):void 0}};e.exports={findMade:n,findMadeSync:r}},1175:(e,t,s)=>{const{dirname:i}=s(5622),n=(e,t,s)=>{t.recursive=!1;const r=i(e);return r===e?t.mkdirAsync(e,t).catch((e=>{if("EISDIR"!==e.code)throw e})):t.mkdirAsync(e,t).then((()=>s||e),(i=>{if("ENOENT"===i.code)return n(r,t).then((s=>n(e,t,s)));if("EEXIST"!==i.code&&"EROFS"!==i.code)throw i;return t.statAsync(e).then((e=>{if(e.isDirectory())return s;throw i}),(()=>{throw i}))}))},r=(e,t,s)=>{const n=i(e);if(t.recursive=!1,n===e)try{return t.mkdirSync(e,t)}catch(e){if("EISDIR"!==e.code)throw e;return}try{return t.mkdirSync(e,t),s||e}catch(i){if("ENOENT"===i.code)return r(e,t,r(n,t,s));if("EEXIST"!==i.code&&"EROFS"!==i.code)throw i;try{if(!t.statSync(e).isDirectory())throw i}catch(e){throw i}}};e.exports={mkdirpManual:n,mkdirpManualSync:r}},5612:(e,t,s)=>{const{dirname:i}=s(5622),{findMade:n,findMadeSync:r}=s(1139),{mkdirpManual:o,mkdirpManualSync:a}=s(1175);e.exports={mkdirpNative:(e,t)=>(t.recursive=!0,i(e)===e?t.mkdirAsync(e,t):n(t,e).then((s=>t.mkdirAsync(e,t).then((()=>s)).catch((s=>{if("ENOENT"===s.code)return o(e,t);throw s}))))),mkdirpNativeSync:(e,t)=>{if(t.recursive=!0,i(e)===e)return t.mkdirSync(e,t);const s=r(t,e);try{return t.mkdirSync(e,t),s}catch(s){if("ENOENT"===s.code)return a(e,t);throw s}}}},2736:(e,t,s)=>{const{promisify:i}=s(1669),n=s(5747);e.exports=e=>{if(e)if("object"==typeof e)e={mode:511,fs:n,...e};else if("number"==typeof e)e={mode:e,fs:n};else{if("string"!=typeof e)throw new TypeError("invalid options argument");e={mode:parseInt(e,8),fs:n}}else e={mode:511,fs:n};return e.mkdir=e.mkdir||e.fs.mkdir||n.mkdir,e.mkdirAsync=i(e.mkdir),e.stat=e.stat||e.fs.stat||n.stat,e.statAsync=i(e.stat),e.statSync=e.statSync||e.fs.statSync||n.statSync,e.mkdirSync=e.mkdirSync||e.fs.mkdirSync||n.mkdirSync,e}},7543:(e,t,s)=>{const i=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:n,parse:r}=s(5622);e.exports=e=>{if(/\0/.test(e))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:e,code:"ERR_INVALID_ARG_VALUE"});if(e=n(e),"win32"===i){const t=/[*|"<>?:]/,{root:s}=r(e);if(t.test(e.substr(s.length)))throw Object.assign(new Error("Illegal characters in path."),{path:e,code:"EINVAL"})}return e}},2589:(e,t,s)=>{const i=s(5747),n=(process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version).replace(/^v/,"").split("."),r=+n[0]>10||10==+n[0]&&+n[1]>=12,o=r?e=>e.mkdir===i.mkdir:()=>!1,a=r?e=>e.mkdirSync===i.mkdirSync:()=>!1;e.exports={useNative:o,useNativeSync:a}},3258:function(e,t,s){"use strict";var i=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(n,r){function o(e){try{h(i.next(e))}catch(e){r(e)}}function a(e){try{h(i.throw(e))}catch(e){r(e)}}function h(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}h((i=i.apply(e,t||[])).next())}))},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(s(8913)),o=s(112),a=n(s(9669)),h=s(8605),c=n(s(1110)),l=s(5747);s(5622),t.default=class{constructor(e){this.host=e,this.secret="",this.canvasToken=""}get gqlHost(){return`${r.default.settings.config.host}/api/graphql`}setAuth(e,t){void 0!==e&&(this.secret=e),void 0!==t&&(this.canvasToken=t)}startSession(){return i(this,void 0,void 0,(function*(){this.sendEvent({msg:"Session Started"})}))}endSession(){return i(this,void 0,void 0,(function*(){this.sendEvent({msg:"Session Ended"})}))}sendEvent(e){return i(this,void 0,void 0,(function*(){if(void 0===r.default.settings.user.secret||""===r.default.settings.user.secret||!r.default.settings.session.online)return;const t=`${r.default.settings.config.host}/codefeel`,s={source:"visual-studio-code-extension",sessionID:r.default.settings.session.sessionID,assignment:r.default.settings.config.assignment,course:r.default.settings.config.course,payload:e};return"ok"===(yield this.post({method:"post",url:t,data:JSON.stringify(s),headers:{"x-cf-secret":r.default.settings.user.secret,"x-cf-signature-256":"55555","x-cf-event":"log","Content-Type":"application/json"}})).status}))}getAssignmentRubric(e,t){return i(this,void 0,void 0,(function*(){const s=JSON.stringify({query:`{\n  rubric(course_id: ${e}, assignment_id: ${t}) {\n      id\n      data {\n          id\n          description\n          long_description\n          points\n          ratings {\n              criterion_id\n              points\n              description\n\n          }\n      }\n  }\n}`,variables:{}}),i=this.gqlHost;return yield this.post({method:"post",url:i,data:s,headers:{"Content-Type":"application/json"}})}))}submitForGrading(e){return i(this,void 0,void 0,(function*(){if(void 0===r.default.settings.config.assignment)return;console.log("submitting for grading ");const e=JSON.stringify({repo:r.default.settings.user.repo,assignment:r.default.settings.config.assignment,source:"visual-studio-code-extension"}),t=`${c.default}/codefeel`;return"ok"===(yield this.post({method:"post",url:t,data:e,headers:{"x-cf-secret":r.default.settings.user.secret,"x-cf-signature-256":"55555","x-cf-event":"submit","Content-Type":"application/json"}})).status}))}getLogs(){return i(this,void 0,void 0,(function*(){var e=JSON.stringify({query:"{\n  logs {\n    msg\n  }\n}",variables:{}});return this.gqlHost,(yield this.post({method:"post",url:this.gqlHost,headers:{secret:this.secret,"Content-Type":"application/json"},data:e})).data.logs}))}confirmIdentity(e,t,s,n,r){return i(this,void 0,void 0,(function*(){return yield this.post({url:`${c.default}/git/me`,data:JSON.stringify({secret:r}),headers:{"Accept-Encoding":"gzip, deflate, br","Content-Type":"application/json","x-cf-secret":r,Accept:"application/json",Connection:"keep-alive"}}).then((e=>(console.log(e),"No response"!==e&&("OK"===e||e===h.STATUS_CODES.OK||e.statusCode!==h.STATUS_CODES.OK))))}))}registerRepo(e,t,s,n){return i(this,void 0,void 0,(function*(){let i=JSON.stringify({githubId:n,repo:t,course:e,term:s});return console.log(i),yield this.post({url:`${r.default.settings.config.host}/api/register`,data:i,headers:{"Accept-Encoding":"gzip, deflate, br","Content-Type":"application/json",Accept:"application/json",Connection:"keep-alive"}})}))}download(e,t){return i(this,void 0,void 0,(function*(){o.outputChannel.appendLine("Downloading..."+e+"  "+t);const s=l.createWriteStream(t);return(yield a.default({url:e,method:"GET",responseType:"stream"})).data.pipe(s),new Promise(((e,t)=>{s.on("finish",e),s.on("error",t)}))}))}get(e){return i(this,void 0,void 0,(function*(){try{let t=yield a.default.get(e.url,{timeout:r.default.timeout,headers:e.headers});return JSON.stringify(t.data)}catch(e){return console.log(e),"Failure"}}))}post(e){return i(this,void 0,void 0,(function*(){console.log(e);const t=a.default.CancelToken.source(),s=setTimeout((()=>(t.cancel(),"No response")),1e4);return yield a.default.post(e.url,e.data,{timeout:r.default.timeout,headers:e.headers,cancelToken:t.token}).then((e=>(console.log(e),clearTimeout(s),e.data))).catch((t=>a.default.isCancel(t)?(console.log("Request canceled",t.message),"No response"):void 0!==t.response&&426!==t.response.status?(o.outputChannel.appendLine(`Error:  + ${t.message} + ${e.url}`),"No response"):void 0))}))}}},9546:function(e,t,s){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.hasOwnProperty.call(e,s)&&i(t,e,s);return n(t,e),t},o=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(n,r){function o(e){try{h(i.next(e))}catch(e){r(e)}}function a(e){try{h(i.throw(e))}catch(e){r(e)}}function h(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}h((i=i.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const h=s(5747),c=s(5747),l=s(5622),u=r(s(7549)),d=a(s(3258)),p=r(s(8913)),f=s(5747),m=s(112),g=s(1110);var y;!function(e){e[e.file=0]="file",e[e.regEx=1]="regEx"}(y||(y={}));const b=[".ucf","files","Scripts"],v=["Assets","Scripts"],w=[".ucf","files","Runtime"],E=["Assets","Tests","Runtime"],_=["Assets","Scenes"],S=["Assets","Scripts"],R=["Assets","Prefabs"],O={dig3480:[{conditions:[{t:y.file,f:[..._,"MiniGame.unity"],e:"Error: Need MiniGame scene in Scenes subfolder of Assets."},{t:y.file,f:[...S,"PlayerController.cs"],e:"Error: Need PlayerController.cs in Scripts subfolder of Assets."},{t:y.file,f:[...S,"CameraController.cs"],e:"Error: Need CameraController.cs in Scripts subfolder of Assets."},{t:y.regEx,f:["ProjectSettings","EditorBuildSettings.asset"],re:/path: Assets\/Scenes\/MiniGame.unity/i,e:"Error: Need MiniGame scene added to Unity Build Settings."}],files:[{src:[...w,"PlayTests.asmdef"],dest:[...E,"PlayTests.asmdef"]},{src:[...b,"GameAssembly.asmdef"],dest:[...v,"GameAssembly.asmdef"]},{src:[...w,"TestSetup"],dest:[...E,"TestSetup.cs"]},{delete:!0,dest:["Assets","Template","Scripts","GameAssembly.asmdef"]}]},{conditions:[{t:y.file,f:[...R,"PickUp.prefab"],e:"Error: Need 'PickUp' prefab in Prefabs subfolder of Assets. (PickUp.prefab)"},{t:y.file,f:[...S,"Rotator.cs"],e:"Error: Need Rotator.cs in Scripts subfolder of Assets."}],files:[{src:[...b,"GameAssembly.asmdef"],dest:[...v,"GameAssembly.asmdef"]},{src:[...w,"TestPickups"],dest:[...E,"TestPickups.cs"]}]},{conditions:[{t:y.file,f:["Assets","Scripts","PlayerController.cs"],e:"Error: Need PlayerController.cs in Scripts subfolder of Assets."},{t:y.regEx,f:[...S,"PlayerController.cs"],re:/public TextMeshProUGUI countText;/,e:'Error: Make sure you have a public variable named "countText" of type "TextMeshProUGUI" in PlayerController.cs.'},{t:y.regEx,f:[..._,"MiniGame.unity"],re:/m_Name: Win ?Text/i,e:'Error: Make sure you have a game object named "WinText"'},{t:y.regEx,f:[..._,"MiniGame.unity"],re:/m_Name: Count ?Text/i,e:'Error: Make sure you have a game object named "CountText"'},{t:y.regEx,f:[...R,"PickUp.prefab"],re:/m_TagString: PickUp/,e:'Error: Make sure your pick up\'s tag is exactly "PickUp"'}],files:[{src:[...b,"GameAssembly.asmdef"],dest:[...v,"GameAssembly.asmdef"]},{src:[...w,"TestScoring"],dest:[...E,"TestScoring.cs"]}]}]};class C{constructor(){this.installTests=()=>o(this,void 0,void 0,(function*(){if(void 0===u.workspace.workspaceFolders)return;let e=u.workspace.workspaceFolders[0].uri.fsPath;try{yield c.promises.rm(l.join(e,"Assets","Tests"),{recursive:!0}),yield h.mkdir(l.join(e,"Assets","Tests"),(()=>m.outputChannel.appendLine("Recreating test folder...")))}catch(e){console.log(e)}for(var t=0;t<O[p.default.settings.config.course].length;t++){let s=!0,i=!1;for(let i of O[p.default.settings.config.course][t].conditions){switch(i.t){case y.file:let t=f.existsSync(l.join(e,...i.f));s=s&&t;break;case y.regEx:let n=h.readFileSync(l.join(e,...i.f)).toString();s=s&&i.re.test(n)}if(!s)return void u.window.showWarningMessage(i.e)}if(s){for(let e of O[p.default.settings.config.course][t].files){let t=[];if(void 0!==e.delete)try{h.rmSync(l.join(u.workspace.workspaceFolders[0].uri.fsPath,...e.dest))}catch(t){m.outputChannel.appendLine(`File ${l.join(u.workspace.workspaceFolders[0].uri.fsPath,...e.dest).toString()} already deleted`)}else{for(let s=0;s<e.dest.length-1;s++)t.push(e.dest[s]),f.existsSync(l.join(u.workspace.workspaceFolders[0].uri.fsPath,...t))||h.mkdirSync(l.join(u.workspace.workspaceFolders[0].uri.fsPath,...t));try{h.copyFileSync(l.join(u.workspace.workspaceFolders[0].uri.fsPath,...e.src),l.join(u.workspace.workspaceFolders[0].uri.fsPath,...e.dest))}catch(e){m.outputChannel.appendLine("ERROR: "+e)}}i=!0}i&&u.window.setStatusBarMessage(`Test Stage ${t+1} installed successfully!`,3e3)}}})),this.runTests=()=>o(this,void 0,void 0,(function*(){console.log("finished running tests")})),this.register=()=>o(this,void 0,void 0,(function*(){m.outputChannel.appendLine("Registering student...");const e=new d.default(p.default.settings.config.host);return console.log(p.default.settings),e.registerRepo(p.default.settings.config.course,p.default.settings.user.repo,p.default.settings.config.term,p.default.settings.user.githubID).then((e=>o(this,void 0,void 0,(function*(){if(void 0!==e){let t=e.registerStudent;m.outputChannel.appendLine("Updating secret to "+t),yield p.updateConfigVars({user:{secret:t}})}else m.outputChannel.appendLine("Error, invalid result "+e)})))).catch((e=>{console.error(e)}))})),this.submit=()=>o(this,void 0,void 0,(function*(){u.window.setStatusBarMessage("Submitting for evaluation...",new Promise(((e,t)=>o(this,void 0,void 0,(function*(){console.log(g.notLocal),g.notLocal?new d.default(p.default.settings.config.host).submitForGrading(p.default.settings.user.repo).then((t=>{e(),u.window.showInformationMessage("Submitted for evaluation")})):(e(),u.window.showInformationMessage("Submitted for evaluation"))})))))}))}activate(e){this.registerCommand=u.commands.registerCommand(C.registerCommandId,this.register,this),this.installTestsCommand=u.commands.registerCommand(C.installTestsCommandId,this.installTests,this),this.runTestsCommand=u.commands.registerCommand(C.runTestsCommandId,this.runTests,this),this.submitCommand=u.commands.registerCommand(C.submitCommandId,this.submit,this),e.push(this)}dispose(){this.installTestsCommand.dispose(),this.runTestsCommand.dispose(),this.registerCommand.dispose(),this.submitCommand.dispose()}}t.default=C,C.installTestsCommandId="gaim.installTests",C.runTestsCommandId="gaim.runTests",C.registerCommandId="gaim.registerRepo",C.submitCommandId="gaim.submitRepo"},8913:function(e,t,s){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.hasOwnProperty.call(e,s)&&i(t,e,s);return n(t,e),t},o=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(n,r){function o(e){try{h(i.next(e))}catch(e){r(e)}}function a(e){try{h(i.throw(e))}catch(e){r(e)}}function h(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}h((i=i.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.updateConfigVars=t.mergeDeep=t.isObject=t.client=void 0;const h=s(9882),c=r(s(7998)),l=r(s(1110)),u=r(s(7549)),d=s(5747),p=s(112),f=s(5622),m=a(s(3258)),g=a(s(9669)),y=s(7211),b=r(s(5747));function v(e){return e&&"object"==typeof e&&!Array.isArray(e)}function w(e,...t){if(!t.length)return e;const s=t.shift();if(v(e)&&v(s))for(const t in s)v(s[t])?(e[t]||Object.assign(e,{[t]:{}}),w(e[t],s[t])):Object.assign(e,{[t]:s[t]});return w(e,...t)}var E;t.isObject=v,t.mergeDeep=w,function(e){e.config="config",e.user="user",e.session="session"}(E||(E={}));class _{static getConfig(){return this.settings}static settingsCheck(e){let t=!0,s=[..._.globalChecks];for(let i of s)t=t&&i.test(e);return t}static versionCheck(e){return o(this,void 0,void 0,(function*(){let t=yield this.confirmCheck(yield h.getExtensionVersion("gaim.vsix"),"gaim.vsix");if(p.outputChannel.appendLine(void 0!==t?t.toString():"Server did not respond"),!t){p.outputChannel.appendLine("Version not up to date");let t=[],s=["vsls-contrib.gitdoc","vsls-contrib.codetour"];"react"===_.settings.config.type&&s.push("codespaces-contrib.codeswing");for(let i of s)void 0===u.extensions.getExtension(i)&&t.push(yield u.commands.executeCommand("workbench.extensions.installExtension",u.Uri.file(f.join(e.extensionUri.fsPath,i))));t.length>0&&(p.outputChannel.appendLine("Updating extension..."+s.join(" ")),yield this.updateSettings(),yield Promise.all(t).then((e=>u.commands.executeCommand("workbench.action.reloadWindow")))),p.outputChannel.appendLine("Updating version..."),yield this.downloadNewVersion("gaim.vsix").then((e=>o(this,void 0,void 0,(function*(){return u.commands.executeCommand("workbench.extensions.installExtension",u.Uri.file(f.join(u.workspace.workspaceFolders[0].uri.fsPath,".ucf","gaim.vsix"))).then((e=>o(this,void 0,void 0,(function*(){p.outputChannel.appendLine("Installed extension."),console.error("Installed extension"),yield u.commands.executeCommand("workbench.action.reloadWindow")}))))}))))}if("unity"===_.settings.config.type&&(t=yield this.confirmCheck(yield h.getExtensionVersion("gaim.unity"),"gaim.unity"),!t)){p.outputChannel.appendLine("Version not up to date");let t=[],s=["ms-dotnettools.csharp","unity.unity-debug","vsls-contrib.codetour","tobiah.unity-tools"];for(let i of s)void 0===u.extensions.getExtension(i)&&t.push(yield u.commands.executeCommand("workbench.extensions.installExtension",u.Uri.file(f.join(e.extensionUri.fsPath,i))));return t.length>0&&(p.outputChannel.appendLine("Updating extension..."+s.join(" ")),yield this.updateSettings(),yield Promise.all(t).then((()=>u.commands.executeCommand("workbench.action.reloadWindow")))),p.outputChannel.appendLine(`Updating gaim.unity from ${_.settings.user.versions["gaim.unity"]}.`),yield this.downloadNewVersion("gaim.unity").then((()=>{c.x({file:f.join(u.workspace.workspaceFolders[0].uri.fsPath,".ucf","gaim.unity"),cwd:f.join(u.workspace.workspaceFolders[0].uri.fsPath,"Packages"),sync:!0})})).then((()=>o(this,void 0,void 0,(function*(){R({versions:{"gaim.unity":yield h.getExtensionVersion("gaim.unity")}})}))))}}))}static updateSettings(){var e;return o(this,void 0,void 0,(function*(){let t=f.join(null===(e=u.workspace.workspaceFolders)||void 0===e?void 0:e[0].uri.fsPath,".vscode","settings.json"),s=d.readFileSync(t).toString(),i=JSON.parse(s);i["gitdoc.autoCommitDelay"]=15e3,i["gitdoc.autoPushDelay"]=6e4,i["gitdoc.commitValidationLevel"]="none",i["gitdoc.enabled"]=!0,i["gaim.enabled"]=!0,d.writeFileSync(t,JSON.stringify(i)),p.outputChannel.appendLine("Updating json file...")}))}static downloadNewVersion(e){return o(this,void 0,void 0,(function*(){return"gaim-vsc"!==e&&"gaim.vsix"!==e||(e="gaim.vsix"),console.log(`Downloading from https://manyrealities.blob.core.windows.net/codefeel/${e}`),yield t.client.download(`https://manyrealities.blob.core.windows.net/codefeel/${e}`,f.join(u.workspace.workspaceFolders[0].uri.fsPath,".ucf",e)).catch((e=>{p.outputChannel.appendLine("ERROR: "+e),console.log(e)}))}))}static confirmCheck(e,s){return o(this,void 0,void 0,(function*(){const i={url:`${_.settings.config.host}/git/${s}/${e}`,headers:{}};void 0!==_.settings.user.secret&&(i.headers={"x-cf-secret":this.settings.user.secret});const n=yield t.client.post(i);return"OK"===n||"No response"===n&&(u.window.showErrorMessage("Error: Server cannot be reached."),!0)}))}static consistencyChecks(){return o(this,void 0,void 0,(function*(){let e=!1;if("dig3480"===_.settings.config.course)if("Roll a Ball"===_.settings.config.assignment){p.outputChannel.appendLine("Checking test files..."),yield function(s){return o(this,void 0,void 0,(function*(){if("Roll a Ball"===s){let s=[".ucf","files"],i=[["Runtime","PlayTests.asmdef"],["Runtime","TestPickups"],["Runtime","TestScoring"],["Runtime","TestSetup"],["Scripts","GameAssembly.asmdef"]];for(let n of i){let i=f.join(u.workspace.workspaceFolders[0].uri.fsPath,...s,...n),r=0;try{r=d.statSync(i).size}catch(e){r=0}let o=`${l.default}/git/files/2/${n.join("/")}`;if(r!==parseInt((yield g.default.head(o)).headers["content-length"])){if(n.length>0)try{b.mkdirSync(f.join(u.workspace.workspaceFolders[0].uri.fsPath,...s,n[n.length-2]),{recursive:!0})}catch(e){p.outputChannel.appendLine("Already present parent directories")}yield t.client.download(o,i),e=!0}}}else"Ruby's Adventure"===s&&console.log("TBD")}))}(_.settings.config.assignment);let i=[{file:["Packages","manifest.json"],checks:[/com.unity.inputsystem.*:.*\d.\d.\d/],add:{"com.unity.inputsystem":"1.0.2"},type:"json",propertyPath:["dependencies"]},{file:["Packages","GaIM","Editor","edu.ucf.gaim.Editor.asmdef"],checks:[/includePlatforms.*:.*["Editor".*]/],add:{includePlatforms:["Editor"]},type:"json",propertyPath:[]},{file:["Packages","GaIM","Editor","edu.ucf.gaim.Editor.asmdef"],checks:[/excludePlatforms.*:.*\[\]/],add:{excludePlatforms:[]},type:"json",propertyPath:[]}];p.outputChannel.appendLine("Checking workspace configuration files...");for(let t of i.map((({file:e,checks:t,add:s,type:i,propertyPath:n})=>({file:f.join(u.workspace.workspaceFolders[0].uri.fsPath.toString(),...e),checks:t,add:s,type:i,propertyPath:n})))){let i="",n="";for(let r of t.checks)if(t.file!==n&&(n=t.file,i=d.readFileSync(n).toString()),!r.test(i))switch(t.type){case"json":let r=JSON.parse(i),o=r;if(1===t.propertyPath.length)o=o[t.propertyPath[0]];else if(t.propertyPath.length>1){let e=o;for(var s of t.propertyPath)e=e[s];o=e}for(let e in t.add)o[e]=t.add[e];i=JSON.stringify(r,void 0,"  "),d.writeFileSync(n,i),e=!0,p.outputChannel.appendLine("Wrote new file "+n)}}}else if("Ruby's New Adventure"===_.settings.config.assignment||"Ruby's Adventure"===_.settings.config.assignment)return b.existsSync(f.resolve(u.workspace.workspaceFolders[0].uri.fsPath,"Art"))||function(){o(this,void 0,void 0,(function*(){var e=t=>{y.get(t,(t=>{302===t.statusCode?e(t.headers.location):(d.existsSync(f.resolve(u.workspace.workspaceFolders[0].uri.fsPath,"Assets"))||b.mkdirSync(f.resolve(u.workspace.workspaceFolders[0].uri.fsPath,"Assets")),t.pipe(c.x({strip:1,C:f.resolve(u.workspace.workspaceFolders[0].uri.fsPath,"Assets")})))})).on("error",(e=>{}))};e("https://dl.dropboxusercontent.com/s/oplgfgu1fexhd55/Assets.tar.gz?dl=1")}))}(),e}))}static initialize(e,s){return o(this,void 0,void 0,(function*(){let i=f.join(u.workspace.workspaceFolders[0].uri.fsPath,".vscode","settings.json");d.existsSync(i)&&_.settingsCheck(d.readFileSync(i).toString())||h.updateSettingsFile();const n=h.getConfigVars();["config","user"].forEach((e=>{null===n[e]||""===n[e]||n[e]})),_.settings=n,p.outputChannel.appendLine("Host: "+_.settings.config.host),t.client=new m.default(_.settings.config.host);const r={url:`${_.settings.config.host}/git/status`,headers:{}};if(void 0!==_.settings.user&&void 0!==_.settings.user.secret&&(r.headers={"x-cf-secret":this.settings.user.secret}),"Failure"===(yield t.client.get(r)))return console.log("OFFLINE MODE"),p.outputChannel.append("OFFLINE MODE"),void R({session:{online:!1}});R({session:{online:!0}}),_.settings.session.online=!0,l.featuresEnabled.versionCheck&&(yield _.versionCheck(s),setInterval((()=>_.versionCheck(s)),18e5)),p.outputChannel.appendLine("Confirming git username...");try{yield h.getGitUsername(),_.settings.user.repo=u.workspace.workspaceFolders[0].name}catch(e){p.outputChannel.appendLine("Error -- username or repo not found via config")}if(void 0===_.settings.user.secret||""===_.settings.user.secret||"Course or assignment not found"===_.settings.user.secret)p.outputChannel.appendLine("No secret or other problem; registering!"),yield u.commands.executeCommand("gaim.registerRepo");else{void 0===_.settings.user.repo&&/.*:.*github.com\//.test(_.settings.user.repo)&&R({user:{repo:`https://github.com/${_.settings.config.org}/${_.settings.config.slug}-${_.settings.user.githubID}`}});let e,s=yield t.client.confirmIdentity(_.settings.user.repo,_.settings.config.assignment,_.settings.config.course,_.settings.user.githubID,_.settings.user.secret);console.log("Identity is "+s),s?(t.client.setAuth(_.settings.user.secret),e=!0):(console.log("Registering..."),e=yield u.commands.executeCommand("gaim.registerRepo"),console.log("Registered: "+e))}if(R({session:{sessionID:h.generateSessionId(6)}}),yield h.checkEnabled(e),p.outputChannel.appendLine("Running consistency checks..."),yield this.consistencyChecks())try{yield e.repositories[0].commit("Updated files...",{all:!0}),yield e.repositories[0].push()}catch(e){p.outputChannel.appendLine("Error while committing file workspace updates..."+e)}p.outputChannel.appendLine("Consistency checks passed!"),p.outputChannel.appendLine("Welcome, "+_.settings.user.githubID),p.outputChannel.appendLine("Configuration complete! Load time: "+((new Date).valueOf()-_.startTime.valueOf()))}))}}function S(e,t){return v(e)?Object.keys(e).every((s=>void 0!==t&&s in t&&S(e[s],t[s]))):e===t}function R(e){return o(this,void 0,void 0,(function*(){if(!S(e[Object.keys(e)[0]],_.settings[Object.keys(e)[0]]))switch(w(_.settings,e),console.log(`Updating ${Object.keys(e)[0]} from ${JSON.stringify(e)}`),Object.keys(e)[0]){case"session":break;case"config":case"base":case"user":!function(){const e=f.join(u.workspace.workspaceFolders[0].uri.fsPath.toString(),".ucf","vsc.json");let t={config:_.settings.config,user:_.settings.user},s=JSON.stringify(t);d.writeFileSync(e,s),p.outputChannel.appendLine("Wrote config file")}()}}))}t.default=_,_.settings={config:{host:l.default,org:"UCF-GaiM",course:"",assignment:"",assignments:[],term:"",type:"",slug:""},user:{githubID:"",secret:"",canvasID:"",repo:"",submission:"0",fixesApplied:{},debugLevel:0,versions:{"gaim.vsix":"","gaim.unity":""}},session:{online:!1,canvasToken:"",curBranch:"main",sessionID:""}},_.globalChecks=[/git.enabled.*:\s*true,?\n/,/files.autoSave.*:\s*"afterDelay"/,/gitdoc.enabled.*:\s*true/,/git.autoStash.*:\s*true/],_.timeout=2e3,t.updateConfigVars=R},7256:function(e,t,s){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.hasOwnProperty.call(e,s)&&i(t,e,s);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=r(s(7549)),a=s(112);class h{constructor(e){this.client=e}activate(e){this.command=o.commands.registerCommand(h.commandId,this.provideCodeActions,this),e.push(this),this.diagnosticCollection=o.languages.createDiagnosticCollection("code-feel"),o.workspace.onDidOpenTextDocument(this.getDiagnostics,this,e),o.workspace.onDidCloseTextDocument((e=>{this.diagnosticCollection.delete(e.uri)}),null,e),o.workspace.onDidSaveTextDocument(this.getDiagnostics,this),e.push(o.window.onDidChangeActiveTextEditor((e=>{e&&setTimeout(this.getDiagnostics,500)}))),e.push(o.window.onDidChangeActiveTextEditor((e=>{e&&setTimeout(this.getDiagnostics,500)})))}dispose(){this.diagnosticCollection.clear(),this.diagnosticCollection.dispose(),this.command.dispose()}getDiagnostics(e){if(void 0!==e){const t=o.languages.getDiagnostics(e.uri);t.length>0&&(console.log(`Sending diagnostics ${t.length}`),this.client.sendEvent({type:"diagnostics",diagnostics:t,file:e.uri.toString()}))}}provideCodeActions(e,t,s,i){console.log("Not implemented"),a.outputChannel.appendLine("Not implemented");let n=s.diagnostics[0];return[{title:"Accept CodeFeel Python suggestion",command:h.commandId,arguments:[e,n.range,n.message]}]}}t.default=h,h.commandId="codefeel.runDiagnostics"},112:function(e,t,s){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.hasOwnProperty.call(e,s)&&i(t,e,s);return n(t,e),t},o=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(n,r){function o(e){try{h(i.next(e))}catch(e){r(e)}}function a(e){try{h(i.throw(e))}catch(e){r(e)}}function h(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}h((i=i.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deactivate=t.activate=t.activateButtons=t.outputChannel=void 0;const h=a(s(7256)),c=a(s(3304)),l=a(s(7858)),u=r(s(8913)),d=a(s(9546)),p=s(3792),f=s(7549),m=a(s(9872)),g=a(s(5156));let y;function b(){return o(this,void 0,void 0,(function*(){void 0===g.default.myStatusBarItem&&"Roll a Ball"===u.default.settings.config.assignment&&g.default.init(y)}))}t.outputChannel=f.window.createOutputChannel("gaim"),t.activateButtons=b,t.activate=function(e){return o(this,void 0,void 0,(function*(){u.default.startTime=new Date,y=e.subscriptions;const s=yield p.getGitApi();if(!s)return void console.log("ERROR: No git enabled.");let i=()=>o(this,void 0,void 0,(function*(){t.outputChannel.appendLine("Git initialized, continuing..."+s.state),l.default.updateStatusBarItem("initalizing");let i=new d.default;yield i.activate(e.subscriptions),yield u.default.initialize(s,e),l.default.init(e.subscriptions),u.default.settings.session.online&&m.default.init(y),new c.default(u.client).activate(y),new h.default(u.client).activate(y),u.client.startSession(),l.default.updateStatusBarItem()}));if("uninitialized"===s.state){let t=s.onDidChangeState((e=>o(this,void 0,void 0,(function*(){console.log("State changed: ",e),yield i(),b(),t.dispose()}))));e.subscriptions.push(t)}else i()}))},t.deactivate=function(){u.client.endSession()}},3792:function(e,t,s){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.hasOwnProperty.call(e,s)&&i(t,e,s);return n(t,e),t},o=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(n,r){function o(e){try{h(i.next(e))}catch(e){r(e)}}function a(e){try{h(i.throw(e))}catch(e){r(e)}}function h(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}h((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getGitApi=void 0;const a=r(s(7549)),h=s(112);t.getGitApi=function(){return o(this,void 0,void 0,(function*(){const e=a.extensions.getExtension("vscode.git");if(e)return e.isActive||(yield e.activate()),e.exports.getAPI(1);h.outputChannel.appendLine("Error: Git not enabled in this repo")}))}},1110:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notLocal=t.featuresEnabled=void 0;t.default="https://cf.gaim.dev",t.featuresEnabled={studentPanel:!1,versionCheck:!0,protocol:"https"},t.notLocal=!0},3304:function(e,t,s){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.hasOwnProperty.call(e,s)&&i(t,e,s);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=r(s(7549));var a=s(5747);class h{constructor(e){this.client=e}activate(e){this.command=o.commands.registerCommand(h.commandId,this.getFileStats,this),e.push(this)}dispose(){this.command.dispose()}getFileStats(e){if("file"!==e.uri.scheme)return;const t=e.lineCount;console.log(`Sending file stats ${e.uri.fsPath}`);const s=a.statSync(e.uri.fsPath);this.client.sendEvent({stats:s,lineCount:t})}}t.default=h,h.commandId="codefeel.runStats"},9872:function(e,t,s){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.hasOwnProperty.call(e,s)&&i(t,e,s);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=r(s(7549));t.default=class{static init(e){this.myStatusBarItem=o.window.createStatusBarItem(o.StatusBarAlignment.Right,100),this.myStatusBarItem.text="Submit ↗️",this.myStatusBarItem.command="gaim.submitRepo",e.push(this.myStatusBarItem),this.myStatusBarItem.show()}}},5156:function(e,t,s){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.hasOwnProperty.call(e,s)&&i(t,e,s);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=r(s(7549));t.default=class{static init(e){this.myStatusBarItem=o.window.createStatusBarItem(o.StatusBarAlignment.Right,100),this.myStatusBarItem.text="Install Tests",this.myStatusBarItem.command="gaim.installTests",e.push(this.myStatusBarItem),this.myStatusBarItem.show()}}},7858:function(e,t,s){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.hasOwnProperty.call(e,s)&&i(t,e,s);return n(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(s(7549)),h=o(s(8913));t.default=class{static init(e){this.myStatusBarItem=a.window.createStatusBarItem(a.StatusBarAlignment.Right,100),this.myStatusBarItem.text=`GaIM:v${h.default.settings.user.versions["gaim.vsix"]} `,e.push(this.myStatusBarItem)}static updateStatusBarItem(e=""){this.myStatusBarItem&&(this.myStatusBarItem.text=`GaIM:v${h.default.settings.user.versions["gaim.vsix"]}|${""!==e?":"+e:""}${h.default.settings.session.online?"online":"offline"}`,this.myStatusBarItem.show())}}},9882:function(e,t,s){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.hasOwnProperty.call(e,s)&&i(t,e,s);return n(t,e),t},o=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(n,r){function o(e){try{h(i.next(e))}catch(e){r(e)}}function a(e){try{h(i.throw(e))}catch(e){r(e)}}function h(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}h((i=i.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.updateSettingsFile=t.generateSessionId=t.getExtensionVersion=t.getGitUsername=t.checkEnabled=t.sleep=t.getConfigVars=void 0;const h=r(s(7549)),c=s(5747),l=s(5622),u=r(s(8913)),d=s(3792),p=(s(1171),s(3129)),f=s(1669),m=s(112),g=a(s(7858)),y=a(s(9669));f.promisify(p.exec);const b=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;t.getConfigVars=function(){var e;return JSON.parse(c.readFileSync((null===(e=h.workspace.workspaceFolders)||void 0===e?void 0:e[0].uri.fsPath.toString())+"/.ucf/vsc.json","utf8"))},t.sleep=function(e){return new Promise((t=>{setTimeout(t,e)}))},t.checkEnabled=function(e){var t,s,i,n,r;return o(this,void 0,void 0,(function*(){let o=e.repositories[0].state.HEAD.name;yield u.updateConfigVars({user:{curBranch:o}});let a=!1;if("main"===o||"master"===o){m.outputChannel.appendLine("On main branch "+e.repositories[0].state.workingTreeChanges);try{const a=yield d.getGitApi(),h=null==a?void 0:a.repositories[0];m.outputChannel.appendLine("Checking upstream..."+(null===(s=null===(t=null==h?void 0:h.state.HEAD)||void 0===t?void 0:t.upstream)||void 0===s?void 0:s.remote)+":"+(null===(n=null===(i=null==h?void 0:h.state.HEAD)||void 0===i?void 0:i.upstream)||void 0===n?void 0:n.name)),void 0===(null===(r=null==h?void 0:h.state.HEAD)||void 0===r?void 0:r.upstream)&&(m.outputChannel.appendLine("Pushing to origin/"+o),null==h||h.push("origin",o,!0,0),yield e.repositories[0].setBranchUpstream(o,`origin/${o}`))}catch(e){a=!0,m.outputChannel.appendLine("Problem pulling: conflict\n"+e)}}m.activateButtons()}))},t.getGitUsername=function(){return o(this,void 0,void 0,(function*(){new RegExp("https://.*github.com/.*?/((?:digd{4}.?)-.{3,4}-(?:0w61|\\w\\d)?)-(.+?)(?:.git)?$","i");let e,t,s=yield d.getGitApi(),i=!1;if(void 0===s)return"";try{e=yield s.repositories[0].getConfig("user.name")}catch(e){console.log(e)}try{""!==e&&void 0!==e||(e=yield s.repositories[0].getGlobalConfig("user.name"))}catch(t){e=""}m.outputChannel.appendLine("Configured user name: "+e);let n=h.workspace.workspaceFolders[0].name;console.log(n);let r="",o=n.match(new RegExp(`${u.default.settings.config.slug}-(.+?)$`,"i"));null!==o?r=o[1]:m.outputChannel.appendLine("Result didn't match"),0!==e.toLowerCase().localeCompare(r.toLowerCase())&&(e=r,s.repositories[0].setConfig("user.name",e)),u.updateConfigVars({user:{githubID:e}}),console.log("Retrieving github id...");let a=yield y.default.get("https://api.github.com/users/"+r);console.log(a);let{id:c,email:l}=a.data;if(t=null===l?`${c}+${e}@users.noreply.github.com`:l,void 0!==t&&!b.test(t)||"knight@ucf.edu"===t||""===t)try{t=yield s.repositories[0].getConfig("user.email"),m.outputChannel.appendLine("Configured repo email: "+t)}catch(e){console.log("No email configured ");try{t=yield s.repositories[0].getGlobalConfig("user.email"),m.outputChannel.appendLine("Configured global email: "+t)}catch(e){for(m.outputChannel.appendLine("Error, no global email configured"+e);""===t||"knight@ucf.edu"===t||!b.test(l);)t=yield h.window.showInputBox({prompt:"Enter an Email associated with your GitHub account.\n You can enter the private one or a public one located here: https://github.com/settings/emails"})}}return s.repositories[0].setConfig("user.email",t),e}))},t.getExtensionVersion=function(e){var t;return o(this,void 0,void 0,(function*(){let s="0.0.0";switch(e){case"gaim.vsix":s=null===(t=h.extensions.getExtension("ucf-gaim.gaim"))||void 0===t?void 0:t.packageJSON.version,m.outputChannel.appendLine(`${e}: v${s}`);try{yield u.updateConfigVars({user:{versions:{"gaim.vsix":s}}})}catch(e){console.log("Error: "+e),m.outputChannel.appendLine("Error: "+e)}break;case"gaim.unity":try{let t=c.readFileSync(l.join(h.workspace.workspaceFolders[0].uri.fsPath,"Packages","GaIM","package.json")).toString();s=JSON.parse(t).version,yield u.updateConfigVars({user:{versions:{"gaim.unity":s}}}),m.outputChannel.appendLine(`${e}: v${s}`)}catch(e){console.log("Error: "+e),m.outputChannel.appendLine("Error: "+e)}}return g.default.updateStatusBarItem(),s}))},t.generateSessionId=function(e){let t=Date.now().toString()+"-";const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(var i=s.length,n=0;n<e;n++)t+=s.charAt(Math.floor(Math.random()*i));return t},t.updateSettingsFile=function(){var e,t;let s=l.join(null===(e=h.workspace.workspaceFolders)||void 0===e?void 0:e[0].uri.fsPath,".vscode","settings.json");c.existsSync(s)||(c.mkdirSync(l.join(null===(t=h.workspace.workspaceFolders)||void 0===t?void 0:t[0].uri.fsPath,".vscode"),{recursive:!0}),c.writeFileSync(s,""));let i,n=c.readFileSync(s).toString();n=n.split("\n").filter((e=>!/\s*\/\//.test(e))).join("\n"),n=n.replace(/\,(?!\s*?[\{\[\"\'\w])/g,""),console.log(n);try{i=JSON.parse(n)}catch(e){console.log(e),i={}}i["gitdoc.autoCommitDelay"]=15e3,i["gitdoc.autoPush"]="onCommit",i["gitdoc.autoPushDelay"]=1e4,i["gitdoc.commitValidationLevel"]="none",i["gitdoc.enabled"]=!0,i["git.enabled"]=!0,i["editor.formatOnPaste"]=!0,i["editor.formatOnSave"]=!0,i["eslint.format.enable"]=!0,i["files.autoSave"]="afterDelay",i["git.autoStash"]=!0,c.writeFileSync(s,JSON.stringify(i,void 0,"  "))}},9602:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},4411:(e,t,s)=>{"use strict";function i(e){var t=this;if(t instanceof i||(t=new i),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var s=0,n=arguments.length;s<n;s++)t.push(arguments[s]);return t}function n(e,t){e.tail=new o(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function r(e,t){e.head=new o(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function o(e,t,s,i){if(!(this instanceof o))return new o(e,t,s,i);this.list=i,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,s?(s.prev=this,this.next=s):this.next=null}e.exports=i,i.Node=o,i.create=i,i.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,s=e.prev;return t&&(t.prev=s),s&&(s.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=s),e.list.length--,e.next=null,e.prev=null,e.list=null,t},i.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},i.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},i.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)n(this,arguments[e]);return this.length},i.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)r(this,arguments[e]);return this.length},i.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},i.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},i.prototype.forEach=function(e,t){t=t||this;for(var s=this.head,i=0;null!==s;i++)e.call(t,s.value,i,this),s=s.next},i.prototype.forEachReverse=function(e,t){t=t||this;for(var s=this.tail,i=this.length-1;null!==s;i--)e.call(t,s.value,i,this),s=s.prev},i.prototype.get=function(e){for(var t=0,s=this.head;null!==s&&t<e;t++)s=s.next;if(t===e&&null!==s)return s.value},i.prototype.getReverse=function(e){for(var t=0,s=this.tail;null!==s&&t<e;t++)s=s.prev;if(t===e&&null!==s)return s.value},i.prototype.map=function(e,t){t=t||this;for(var s=new i,n=this.head;null!==n;)s.push(e.call(t,n.value,this)),n=n.next;return s},i.prototype.mapReverse=function(e,t){t=t||this;for(var s=new i,n=this.tail;null!==n;)s.push(e.call(t,n.value,this)),n=n.prev;return s},i.prototype.reduce=function(e,t){var s,i=this.head;if(arguments.length>1)s=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");i=this.head.next,s=this.head.value}for(var n=0;null!==i;n++)s=e(s,i.value,n),i=i.next;return s},i.prototype.reduceReverse=function(e,t){var s,i=this.tail;if(arguments.length>1)s=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");i=this.tail.prev,s=this.tail.value}for(var n=this.length-1;null!==i;n--)s=e(s,i.value,n),i=i.prev;return s},i.prototype.toArray=function(){for(var e=new Array(this.length),t=0,s=this.head;null!==s;t++)e[t]=s.value,s=s.next;return e},i.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,s=this.tail;null!==s;t++)e[t]=s.value,s=s.prev;return e},i.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var s=new i;if(t<e||t<0)return s;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,r=this.head;null!==r&&n<e;n++)r=r.next;for(;null!==r&&n<t;n++,r=r.next)s.push(r.value);return s},i.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var s=new i;if(t<e||t<0)return s;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,r=this.tail;null!==r&&n>t;n--)r=r.prev;for(;null!==r&&n>e;n--,r=r.prev)s.push(r.value);return s},i.prototype.splice=function(e,t,...s){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var i=0,n=this.head;null!==n&&i<e;i++)n=n.next;var r,a,h,c,l=[];for(i=0;n&&i<t;i++)l.push(n.value),n=this.removeNode(n);for(null===n&&(n=this.tail),n!==this.head&&n!==this.tail&&(n=n.prev),i=0;i<s.length;i++)r=this,a=n,h=s[i],c=void 0,null===(c=a===r.head?new o(h,null,a,r):new o(h,a,a.next,r)).next&&(r.tail=c),null===c.prev&&(r.head=c),r.length++,n=c;return l},i.prototype.reverse=function(){for(var e=this.head,t=this.tail,s=e;null!==s;s=s.prev){var i=s.prev;s.prev=s.next,s.next=i}return this.head=t,this.tail=e,this};try{s(9602)(i)}catch(e){}},2357:e=>{"use strict";e.exports=require("assert")},4293:e=>{"use strict";e.exports=require("buffer")},3129:e=>{"use strict";e.exports=require("child_process")},6417:e=>{"use strict";e.exports=require("crypto")},8614:e=>{"use strict";e.exports=require("events")},5747:e=>{"use strict";e.exports=require("fs")},8605:e=>{"use strict";e.exports=require("http")},7211:e=>{"use strict";e.exports=require("https")},2087:e=>{"use strict";e.exports=require("os")},5622:e=>{"use strict";e.exports=require("path")},2413:e=>{"use strict";e.exports=require("stream")},4304:e=>{"use strict";e.exports=require("string_decoder")},3867:e=>{"use strict";e.exports=require("tty")},8835:e=>{"use strict";e.exports=require("url")},1669:e=>{"use strict";e.exports=require("util")},7549:e=>{"use strict";e.exports=require("vscode")},8761:e=>{"use strict";e.exports=require("zlib")}},t={};return function s(i){if(t[i])return t[i].exports;var n=t[i]={exports:{}};return e[i].call(n.exports,n,n.exports,s),n.exports}(112)})();
//# sourceMappingURL=extension.js.map